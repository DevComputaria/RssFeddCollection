<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:cc="http://cyber.law.harvard.edu/rss/creativeCommonsRssModule.html">
  <channel>
    <title><![CDATA[Stories by Teri Radichel on Medium]]></title>
    <description><![CDATA[Stories by Teri Radichel on Medium]]></description>
    <link>https://medium.com/@2ndsightlab?source=rss-863161906cc5------2</link>
    <image>
      <url>https://cdn-images-1.medium.com/fit/c/150/150/1*6VzskNob4k074ogHnwn4QQ.jpeg</url>
      <title>Stories by Teri Radichel on Medium</title>
      <link>https://medium.com/@2ndsightlab?source=rss-863161906cc5------2</link>
    </image>
    <generator>Medium</generator>
    <lastBuildDate>Thu, 05 May 2022 22:33:17 GMT</lastBuildDate>
    <atom:link href="https://medium.com/@2ndsightlab/feed" rel="self" type="application/rss+xml" />
    <webMaster><![CDATA[yourfriends@medium.com]]></webMaster>
    <atom:link href="http://medium.superfeedr.com" rel="hub" />
    <item>
      <title><![CDATA[Check Your Google Chrome Version]]></title>
      <link>https://medium.com/cloud-security/check-your-google-chrome-version-93e4f673e5bf?source=rss-863161906cc5------2</link>
      <guid isPermaLink="false">https://medium.com/p/93e4f673e5bf</guid>
      <category><![CDATA[malware]]></category>
      <category><![CDATA[cybersecurity]]></category>
      <category><![CDATA[zero-day]]></category>
      <category><![CDATA[vulnerability]]></category>
      <category><![CDATA[chrome]]></category>
      <dc:creator><![CDATA[Teri Radichel]]></dc:creator>
      <pubDate>Mon, 02 May 2022 13:40:17 GMT</pubDate>
      <atom:updated>2022-05-02T19:31:17.844Z</atom:updated>
      <content:encoded><![CDATA[<h4>Bonus: Difference between vulnerabilities discovered by security researchers and zero day updates in security announcements</h4><p>I’m supposed to be getting ready for an Azure class, but this PSA is too important to wait. Thanks to some trolls I thought it was worth a few minutes to write this up. I blame an outdated version of Chrome that isn’t highlighting typos for any misspellings. j.k.</p><p>Whenever I get trolled on something and it seems people are trying a bit too hard it always makes me wonder about their intentions. Often they sound angry instead of simply pointing out a mistake or expressing a different opinion. They usually aren’t following me. They often have very few followers (but not always). That happened to me yesterday. The troll comment also got reposted by a non-cyber bot-looking account which made me extra suspicious. Meanwhile, the tweet was getting likes by credible security researchers.</p><pre>As a side note, another topic I get trolled hard on is <a href="https://medium.com/cloud-security/tagged/ipv6">IPv6</a>. If you choose to use it, make sure you understand the details of the protocol, how it is different from IP4v, and how to configure it properly to not expose internal system information. I often wonder what the objectives are of the IPv6 trolls and why they care so much what version of IP I&#39;m running on my *home* network. <em>Why does that matter to anyone else? </em>Consider troll motivations.</pre><p>I’m going to explain <strong>how to check your Chrome version </strong>because having auto-update on doesn’t always work and in my case, I double checked and one of my systems was not up to date. I’ll also explain how to <strong>manually update when auto-updates are not working</strong>. First, and explanation of different types of updates and why some are more critical than others.</p><p><strong>Different types of vulnerabilities and updates</strong></p><p>For my new Twitter “friend,” here’s the difference between this security update and some others. Often security researchers will try to find security problems with Google. They will report them to Google and get paid for them. In theory, the only people that know about that update are the security researcher and Google.</p><p>In this case, Google is reporting that someone is actively exploiting a security problem in the wild, for which no update previously existed. That’s known as a <a href="https://medium.com/cloud-security/cves-security-vulnerabilities-1830aee64904"><strong>Zero Day</strong></a>, meaning a fix for the problem has been available for zero days. Attackers are using it to exploit systems and there’s nothing you can do about it (except possibly network security which I write a lot about on my blog and have more coming!)</p><p>In recent announcements, Google stated that attackers were exploiting security vulnerabilities which indicates that the vulnerabilities got discovered when attackers exploited a system — not because a security researcher shared a vulnerability with Google.</p><p>Who are these attackers exploiting Google browsers? Well we have a lot going on in the world right now as I have explained before and everyone should be on high alert. It appears that multiple countries may be coordinating on cyber attacks from reports I have read. Whatever the case, it’s a good idea to make sure your systems are always up to date.</p><p><a href="https://medium.com/cloud-security/why-does-whats-happening-in-ukraine-matter-for-cybersecurity-3686efaa6223">Why does what’s happening in Ukraine matter for cybersecurity?</a></p><p>I retweeted a news article about a Google update that was being exploited in the wild. The update is coming in a couple of days, but you can get it manually.</p><p><strong>Check your Google Chrome Version</strong></p><p>I went in and checked my Google Chrome version and suggest you do as well. Here’s where you check on a Mac — Click on Chrome in the top menu and About Google Chrome. Edit: I just checked on my Windows machine. Type “Update Chrome” in the search bar and click the button. On phones you can check your applications for updates. It’s funny that my significant other does that probably more often than I do. Every day he asks me, how many updates do you think I have today?</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/668/1*0lN2AYv9OK8YUphx6O5GzQ.png" /></figure><p>Once again my updates are not working. I was not sure if I was running the latest version because the Google releases page has the latest “beta” version. But I guess everything is in eternal beta at Google.</p><p><a href="https://chromereleases.googleblog.com/">Chrome Releases</a></p><p>After I manually updated I got this version: 101.0.4951.41</p><pre>New: On the same day I updated another Mac and got this version:</pre><pre>Version 101.0.4951.54 (Official Build) (x86_64)</pre><p>I searched on that version to find the latest Google stable release version which oddly doesn’t come up when I search for “latest Google version” in Google:</p><p><a href="https://chromereleases.googleblog.com/2022/04/stable-channel-update-for-desktop_26.html">Stable Channel Update for Desktop</a></p><p>Additionally, when I search on Google Stable Version I get old cached results.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*LvcVAjoiJjWw7fs94oarWw.png" /></figure><p><strong>Manually update Google Chrome</strong></p><p>Google update wasn’t working for me. I got this error:</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*p8F-wjUax_NVdhksiefyTg.png" /></figure><p>I presume this is my fault because if you read my blogs I’m not the average Internet user. However, I have the network open to the Google update servers. <em>I certainly hope that Google is NOT requiring third-party cookies or inbound network traffic for this to work.</em></p><p>Before you update you might want to switch your DNS servers to this service from CloudFlare which blocks known malicious domain names:</p><p><a href="https://medium.com/cloud-security/easy-dns-change-to-prevent-attacks-5b6708f287b3">Easy DNS Change To Prevent Attacks</a></p><p>To update manually go to the Google download page, manually download Google Chrome, and reinstall it. Here are some problems you might have:</p><p><strong>Can’t download using Google Chrome (especially if it is infected)</strong></p><p>Download from an alternate browser such as Safari or a Microsoft browser. The last time I did this I completely deleted Google Chrome from my system and reinstalled.</p><p><strong>Make sure you shut down Google chrome.</strong></p><p>You can’t install a new version of Google Chrome when you have Google Chrome running. Terminate it and then install the new version.</p><p><strong>Replace the existing version.</strong></p><p>You want to make sure the old version is removed so you don’t accidentally run it. As I just mentioned, I completely deleted Google Chrome before installing the new version last time. When you install on a Mac choose the option to “replace” instead of keeping both versions around. I haven’t tested on Windows but if you get a similar option do the same there.</p><p>That’s it for now — back to work!</p><p>Teri Radichel — Follow me <a href="https://twitter.com/teriradichel">@teriradichel</a></p><p><em>© </em><a href="https://2ndsightlab.com/?source=post_page---------------------------"><em>2nd Sight Lab</em></a><em> 2022</em></p><p>____________________________________________</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/250/0*H9Ew1KCl-29nZiPR.jpeg" /></figure><p><strong>Want to learn more about Cybersecurity and Cloud Security? </strong>Check out: <a href="https://www.amazon.com/Cybersecurity-Executives-Cloud-Teri-Radichel/dp/1652474811/ref=as_li_ss_tl?_encoding=UTF8&amp;qid=1601801560&amp;sr=1-1&amp;linkCode=ll1&amp;tag=2ndsightlab-20&amp;linkId=3204d6389211538a20eabff16973183e&amp;language=en_US">Cybersecurity for Executives in the Age of Cloud</a> on Amazon</p><p><strong>Need Cloud Security Training? </strong><a href="https://2ndsightlab.com/cloud-security-training.html">2nd Sight Lab Cloud Security Training</a></p><p><strong>Is your cloud secure?</strong> Hire <a href="https://2ndsightlab.com/">2nd Sight Lab</a> for a <a href="https://2ndsightlab.com/cloud-penetration-testing.html">penetration test</a> or <a href="https://2ndsightlab.com/cloud-security-assessment.html">security assessment</a>.</p><p><strong>Have a Cybersecurity or Cloud Security Question? </strong>Ask <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">Teri Radichel</a> by scheduling a call with <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">IANS Research</a>.</p><p><strong>Cybersecurity &amp; Cloud Security Resources by Teri Radichel: </strong><a href="https://medium.com/cloud-security/cybersecurity-author-teri-radichel-bea5f6c8452f">Cybersecurity and Cloud security classes, articles, white papers, presentations, and podcasts</a></p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=93e4f673e5bf" width="1" height="1" alt=""><hr><p><a href="https://medium.com/cloud-security/check-your-google-chrome-version-93e4f673e5bf">Check Your Google Chrome Version</a> was originally published in <a href="https://medium.com/cloud-security">Cloud Security</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>]]></content:encoded>
    </item>
    <item>
      <title><![CDATA[Container Escape Vulnerability in AWS Hot Patch]]></title>
      <link>https://medium.com/cloud-security/container-escape-vulnerability-in-aws-hot-patch-bed4211e59e?source=rss-863161906cc5------2</link>
      <guid isPermaLink="false">https://medium.com/p/bed4211e59e</guid>
      <category><![CDATA[bug-bounty]]></category>
      <category><![CDATA[container-escape]]></category>
      <category><![CDATA[aws]]></category>
      <category><![CDATA[palo-alto]]></category>
      <category><![CDATA[cloud-vulnerabilities]]></category>
      <dc:creator><![CDATA[Teri Radichel]]></dc:creator>
      <pubDate>Wed, 20 Apr 2022 16:00:12 GMT</pubDate>
      <atom:updated>2022-04-20T16:11:07.945Z</atom:updated>
      <content:encoded><![CDATA[<h4>Update or mitigate now if you are affected (if you run containers, you probably are.)</h4><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*AkdhfEzQWBaFzg5USpTy3w.png" /></figure><p><em>Thank you to </em><a href="https://www.cybersecuritydive.com/editors/djones/"><em>David Jones at Security Dive</em></a><em> for bringing this to my attention.</em></p><p>Palo Alto’s Unit 42 discovered a vulnerability in the AWS Log4Shell hot patch. This patch got applied to almost every type of compute resource on AWS, so you may want to update immediately if you are using an affected system.</p><p><strong><em>Note that this vulnerability does not require you to be running Java or Log4Shell, so its impact could be potentially greater than the Log4Shell vulnerability itself to AWS Customers running containerized applications.</em></strong></p><p>The patch is designed to automatically patch vulnerable applications. The problem is that the patch itself is not containerized, essentially. It runs in a process that has access to the entire host.</p><p>You can get into the weeds in this Palo Alto post:</p><p><a href="https://unit42.paloaltonetworks.com/aws-log4shell-hot-patch-vulnerabilities/">AWS&#39;s Log4Shell Hot Patch Vulnerable to Container Escape and Privilege Escalation</a></p><pre>Palo Alto offers the following mitigations in their article (quote):</pre><pre>* On standalone hosts, you can upgrade by running yum update log4j-cve-2021–44228-hotpatch (RPM) or apt install — only-upgrade log4j-cve-2021–44228-hotpatch (Debian).</pre><pre>* On Kubernetes clusters that installed the hot patch to every node via the <a href="https://github.com/aws-samples/kubernetes-log4j-cve-2021-44228-node-agent">hotpatch Daemonset</a>, you need to manually connect to every node and update the installed hot patch via yum or apt. <strong>Note that only deleting the hot patch Daemonset doesn’t remove the hot patch service from your nodes.</strong></pre><pre>* Hotdog users need to upgrade to the <a href="https://github.com/bottlerocket-os/hotdog/releases">latest version</a>.</pre><pre>Alternatively, if you’re confident that your environment is patched against Log4Shell, you can disable the hot patch service on a host by running sudo touch /etc/log4j-cve-2021–44228-hotpatch.kill. To disable Hotdog, run apiclient set oci-hooks.log4j-hotpatch-enabled=false.</pre><p>Hopefully you have an automated deployment that enables you to quickly redeploy all VMs and containers with the latest version. That should help resolve some of the issues without the need for specific patches, but check the particulars above to verify. That includes your EKS hosts and containers running on them. You might think that is difficult to automate, but that is exactly what we showed students how to do in one of my AWS class labs. We automated deployment of EKS and the containers running on it. It is possible, and I’ve done it.</p><p>I’ve just finished a presentation on <strong>Developer Governance</strong> for IANS research and will be presenting that at their Dallas and Los Angelos forums this year. If you can’t make those check for an IANS event near you were someone else will be presenting and speaking to those slides. I cover topics like automated deployments. Additionally, you can schedule a call with me at <a href="https://www.iansresearch.com/">IANS Research</a> if you have questions about how to create automated, immutable deployments and secure deployment pipelines.</p><p><a href="https://www.iansresearch.com/what-we-do/events">Events</a></p><p>In addition to being able to quickly update containers, hopefully you are running in a zero-trust environment with proper networking controls and monitoring to help discover any attacks that may result from this vulnerability.</p><p>Finally, if you find all this patching to be complicated, consider cloud-managed services that handle some (not all) of the patching for you automatically. If you are using <a href="https://aws.amazon.com/lambda/">AWS Lambda</a>, for example, the patching of the hosts would occur automatically under the hood. You still need to keep the code you run in your Lambda functions up to date. I was just talking to a client at IANS Research about that. Sometimes the size of your team drives you towards particular AWS services.</p><p>One other consideration here is that Palo Alto discovered this vulnerability, not Amazon. Palo Alto has a vested interest in finding vulnerabilities which they can incorporate into their cloud products and services that report security problems in cloud environments. Their product now reports this problem they discovered which can help customers quickly mitigate the issue.</p><p>What AWS does not have is a bug bounty program that pays other researchers with no such motivations to uncover and report bugs, like the other top cloud providers do. <a href="https://hackerone.com/amazonvrp?type=team">Amazon</a> does. AWS does not. Check the scope.</p><blockquote>Security issues discovered in the AWS IP Space (<a href="https://ip-ranges.amazonaws.com/ip-ranges.json">https://ip-ranges.amazonaws.com/ip-ranges.json</a>) are not in scope for Amazon Vulnerability Research Program. As an infrastructure provider, AWS customers operate assets in this space. Discovering and testing against AWS and AWS customer assets is strictly out of scope for Amazon Vulnerability Research Program and against the AWS AUP (<a href="https://aws.amazon.com/aup/">https://aws.amazon.com/aup/</a>).</blockquote><p>AWS just hopes that researchers will spend their free time finding and reporting bugs here.</p><p><a href="https://aws.amazon.com/security/vulnerability-reporting/">Vulnerability Reporting - Amazon Web Services (AWS)</a></p><p>Microsoft has a bug bounty program, though my experience with it recently wasn’t great. They suggested I talk to support instead of responding to the issue and what was causing it, if it was not in fact a security problem (which according to others it was). You know how I feel about contacting <a href="https://medium.com/cloud-security/what-i-would-change-on-microsoft-azure-part-1-4760d5f7ccbe">Microsoft support</a> if you’ve been following along. I hope they can fix those issues but at least they have a bug bounty:</p><p><a href="https://www.microsoft.com/en-us/msrc/bounty">Microsoft Bounty Programs | MSRC</a></p><p>Google has a bug bounty program. I have not reported anything here but I know people who have been paid significant sums through this program:</p><p><a href="https://bughunters.google.com/about/rules/6625378258649088/google-and-alphabet-vulnerability-reward-program-vrp-rules">Home | Google Bug Hunters</a></p><p>If a company has a robust bug bounty program that pays well, that means more people are working to find vulnerabilities on the platform and will take the time to report and thoroughly explain them to receive payment for their time and effort. Luckily, Palo Alto had some external motivation in this case.</p><p>I hope that AWS will reconsider its stance on bug bounties in light of this issue. Some people report vulnerabilities on AWS for the fame and glory of talking about them at <a href="https://defcon.org/">DefCon</a>. How many other vulnerabilities were not reported or followed up on appropriately because AWS does’t have a bug bounty program? There’s no way to know for sure, but I wish they had one.</p><p>As you might have read in my last post, I’m an <a href="https://medium.com/cloud-security/on-becoming-an-aws-hero-fe7481a1b5eb">AWS Hero</a> and I’ve loved using AWS for a long time. AWS has some of the best security engineers and in the world and I know some of them, but as this vulnerability shows — nobody’s perfect!</p><p>Teri Radichel — Follow me <a href="https://twitter.com/teriradichel">@teriradichel</a></p><p><em>© </em><a href="https://2ndsightlab.com/?source=post_page---------------------------"><em>2nd Sight Lab</em></a><em> 2022</em></p><p>____________________________________________</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/250/0*H9Ew1KCl-29nZiPR.jpeg" /></figure><p><strong>Want to learn more about Cybersecurity and Cloud Security? </strong>Check out: <a href="https://www.amazon.com/Cybersecurity-Executives-Cloud-Teri-Radichel/dp/1652474811/ref=as_li_ss_tl?_encoding=UTF8&amp;qid=1601801560&amp;sr=1-1&amp;linkCode=ll1&amp;tag=2ndsightlab-20&amp;linkId=3204d6389211538a20eabff16973183e&amp;language=en_US">Cybersecurity for Executives in the Age of Cloud</a> on Amazon</p><p><strong>Need Cloud Security Training? </strong><a href="https://2ndsightlab.com/cloud-security-training.html">2nd Sight Lab Cloud Security Training</a></p><p><strong>Is your cloud secure?</strong> Hire <a href="https://2ndsightlab.com/">2nd Sight Lab</a> for a <a href="https://2ndsightlab.com/cloud-penetration-testing.html">penetration test</a> or <a href="https://2ndsightlab.com/cloud-security-assessment.html">security assessment</a>.</p><p><strong>Have a Cybersecurity or Cloud Security Question? </strong>Ask <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">Teri Radichel</a> by scheduling a call with <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">IANS Research</a>.</p><p><strong>Cybersecurity &amp; Cloud Security Resources by Teri Radichel: </strong><a href="https://medium.com/cloud-security/cybersecurity-author-teri-radichel-bea5f6c8452f">Cybersecurity and Cloud security classes, articles, white papers, presentations, and podcasts</a></p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=bed4211e59e" width="1" height="1" alt=""><hr><p><a href="https://medium.com/cloud-security/container-escape-vulnerability-in-aws-hot-patch-bed4211e59e">Container Escape Vulnerability in AWS Hot Patch</a> was originally published in <a href="https://medium.com/cloud-security">Cloud Security</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>]]></content:encoded>
    </item>
    <item>
      <title><![CDATA[On Becoming an AWS Hero]]></title>
      <link>https://medium.com/cloud-security/on-becoming-an-aws-hero-fe7481a1b5eb?source=rss-863161906cc5------2</link>
      <guid isPermaLink="false">https://medium.com/p/fe7481a1b5eb</guid>
      <category><![CDATA[aws-hero]]></category>
      <category><![CDATA[meetup]]></category>
      <category><![CDATA[cloud]]></category>
      <category><![CDATA[aws-user-group]]></category>
      <category><![CDATA[aws]]></category>
      <dc:creator><![CDATA[Teri Radichel]]></dc:creator>
      <pubDate>Tue, 19 Apr 2022 19:26:14 GMT</pubDate>
      <atom:updated>2022-04-19T21:49:33.834Z</atom:updated>
      <content:encoded><![CDATA[<h4>Pondering changes to the Seattle AWS Meetup</h4><p>People always ask me how to become an <a href="https://aws.amazon.com/developer/community/heroes/teri-radichel/"><strong>AWS Hero</strong></a>. Honestly, I really don’t know because the process is somewhat secretive. I think you have to be recommended internally by AWS employees. I didn’t even know what an AWS Hero was when I was invited to be one. I thought the email was spam or phishing playing on my ego and ignored it. Then <a href="https://twitter.com/jeffbarr"><strong>Jeff Bar</strong></a> contacted me on Twitter…so as you can probably tell, I wasn’t actively trying to become or lobbying to be an AWS Hero. I was just doing things that I was passionate about at the time.</p><p>One of those things was to <strong>start</strong> and <strong>grow</strong> a <a href="https://www.meetup.com/Seattle-AWS-Architects-Engineers/"><strong>very active meetup group in Seattle</strong></a> for about 10 years. I started this group because I wasn’t allowed to use AWS at work and I wanted to learn more about it. I had opened up a free account and was playing around with AWS in my free time. I hit many bugs, errors, and problems and then explained how I fixed them on a very old <a href="https://websitenotebook.blogspot.com/"><strong>programming blog</strong></a><strong> </strong>with a little security sprinkled in that is still out there.</p><p>I wanted to go beyond things in small accounts and learn how enterprises were using AWS. I started a group not just for AWS “users” but for AWS Architects and Engineers, which is implied by the title of the group. When you create a user group you should understand your<strong> target audience</strong> and speak to that via your messaging and content. Our first speaker was <a href="https://www.linkedin.com/in/jarjis">Jarjis Imam</a> who worked at AWS at the time. What started with 40 people ended up with <strong>over 3,000 members today</strong>.</p><p>I can’t tell you that running an AWS Meetup will get you AWS Hero status. What does that entail anyway? You get listed on the AWS website and you’ll get access to some special events. You might get a front row seat at AWS re:Invent but that is not guaranteed. We didn’t get that in the beginning. You may be asked to speak at conferences but that’s not guaranteed, nor is it required. Some heroes never do.</p><p>If you run an AWS meetup you will, as a community leader, get invited to special events for meetup organizers from around the world at AWS re:Invent. I think that is true for all AWS meetup organizers but I’m not in charge and can’t say for sure. If someone ends up running this meetup, I’ll let the appropriate people know.</p><pre>As most of you know if you follow me on this blog or on <a href="https://twitter.com/teriradichel">Twitter</a> or <a href="https://www.linkedin.com/in/teriradichel">LinkedIn</a>, I moved from Seattle to Savannah, Georgia last year. Yes it’s a big change and yes, I’m very happy with my move! I love my historic house and we put up bird feeders in the back yard to watch birds and squirrels. I’m planting varieties of trees that would never grow in Seattle, though we may have to take precautions in the winter still to keep them alive. Avocados, grapefruit, limes, lemons and an ice cream banana tree! We take frequent trips to hike and view sights such as the 400+ year old angel oak up near Charleston, South Carolina and trips to walk along the swamps or the ocean, which isn’t too far away. You&#39;ll also find lots of history in the area, like the <a href="https://www.nps.gov/fopu/index.htm">Fort Pulaski National Monument</a>. In addition to the birds and squirrels, we have little lizards which I’m told are not actually chameleons, but they change colors, living in our back yard. They come hang out with me on the deck sometimes. </pre><pre><strong><em>Due to this move, and because I&#39;d rather see the Seattle AWS Meetup be an in-person meetup, I&#39;m considering transferring it.</em></strong><em> Please see the end of this post for more information. I need to find the right sponsor who will treat our over 3000 members well and keep the group active. The group has a 5-star rating and I can provide details on how we achieved that. Reach out to me on LinkedIn if you work at an organization that wants to carry on the tradition.</em></pre><pre>What will I be doing? I started the <a href="https://www.meetup.com/savannah-aws-user-group/">Savannah AWS Meetup</a>, but we&#39;ll see how far that goes. At the moment I&#39;m really busy and will be speaking at some AWS events, such as the <a href="https://aws.amazon.com/events/summits/atlanta/">Atlanta AWS Summit</a>.</pre><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*I4TP3FM9Ti6_mlwFYPMJ_w.jpeg" /></figure><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*dOpOfzKWcsS1tHe2wRWZkQ.jpeg" /></figure><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*F0RoRwlOHq-yPyFyvE5Rpg.jpeg" /></figure><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*6H27p5GNdx7M0swLxNCKFg.jpeg" /></figure><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*pN3BtADyuzR2JvFsVdtiww.jpeg" /></figure><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*_YthvJqDMDrKda8smcBiuA.jpeg" /></figure><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*fWDPFL-W454_Hs8hSwx04Q.jpeg" /></figure><p>One thing I noticed when I went to meetups, was that they mostly served food that did not cater to people with <strong>different food preferences or allergies</strong>. Pizza and Beer. I tend to eat gluten free (no beer), avoid junk food and sodas, and I know a lot of vegetarians and people with other types of allergies. I decided our meetup would not be a pizza and beer meetup. I told the sponsors, <strong>the quality of the food reflects the quality of the sponsor</strong>.</p><p>I also went to many meetups where I couldn’t figure out how to get into the building or had to find random places for every meetup because it would move around. More than once I completely missed a meetup and gave up. For this reason, we made a concerted effort to<strong> always run the meetup at the same location</strong>. We ran it at <a href="https://www.surfincubator.com/"><strong>Surf Incubator</strong></a><strong> </strong>— and the owners of that space are amazing! If you go there say “Hi” to Seaton and Candice for me.</p><p>We had a limited number of <strong>parking passes</strong> included with the cost of hosting the event. People could easily get to the event by bus, bike, or in some cases walking. The <strong>location was decently accessible</strong> from the East Side (Bellevue, Redmond, Issaquah, Mercer Island) by way of I-90. Note that I spent hours trying to cross town from West Seattle to reach some meetups so this location was selected due to the accessibility for the people running it, in part. We also stuck to “Seattle” as this was the Seattle AWS Architects and Engineers, not the East Side Seattle AWS Meetup. If you live in or around Seattle you understand the distinction.</p><p><strong>How much does it cost to run a meetup? </strong>It really varies but in our case we would collect $1500 per meetup and that generally was all used up running the meetup itself. We paid for the space, the food, delivery, beverages, and the meetup membership out of those fees. The <strong>room</strong> we booked for our events was about $300. We got it at a discount for being long-time users of the space. Others would pay more. If you could setup a long term contract you might get a discount. I don’t know. You’d have to discuss that with the owners of Surf Incubator.</p><p>The <strong>food</strong> would cost anywhere from $750–1000 depending on how much we ordered, plus delivery charges. Over the course of this meetup a business appeared that turned out to make our lives so much easier. Instead of contacting each individual restaurant I started using <a href="https://www.ezcater.com/"><strong>EZ Cater</strong></a><strong> </strong>and I highly recommend them! I would pick different restaurants with good ratings and a variety of food for each meetup. Sometimes we had Thai, Indian, Hawaiian, BBQ, Greek, or some other variety of interesting meal. And only once, right after a snowstorm — we had pizza! But I picked that up from <a href="https://www.mylucianos.com/">Luciano’s Pizza</a> who also has gluten free options.</p><p>I would go to the store and pick up <strong>beverages</strong> of the alcoholic variety including wine and beer, as well as water and some sodas. I’d often pick up a few <strong>extra snacks</strong> like fruit and chips. By the time you add all that up there’s not much left for the people actually running the event so don’t take this on as a money-making venture. It’s really a labor of love and also potentially a <strong>marketing</strong> vehicle.</p><p>I did not get a lot of business for my company, <a href="https://2ndsightlab.com/">2nd Sight Lab</a>, through this meetup. However, I know <strong>our sponsors that sold technical products did get business and customers</strong>. One of the companies actually signed up my co-organizer of the group, <a href="https://twitter.com/kolbyallen">Kolby Allen</a>, as a customer and he later spoke at conferences for the company.</p><p>Speaking of my co-organizer, the group is an amazing source for <strong>recruiting</strong>. When I became a cloud architect and later Director of SaaS Engineering for a company and was competing with the likes of Amazon, Google, Microsoft, and Facebook in Seattle, I ended up hiring 5 members to join my team, including the person who later became my totally reliable and amazing co-organizer, out of this group for a team that started with about 15 or so people and ended up with 30 people. I wrote about <a href="https://medium.com/cloud-security/tips-for-recruiting-cloud-and-security-professionals-3f6b3277921a">recruiting technical professionals</a> and personal relationships are the way better than spammy emails.</p><p>Consider which <strong>day of the week</strong> you run the meetup. Seattle was a very active city in terms of meetups. Mondays were often less busy. Thursdays had bad traffic from the Eastside. Fridays were definitely out. I knew which days the biggest <strong>meetups competing for attendance</strong> were running and avoided those days. We also tried to avoid major events and holidays.</p><p>We did run some hands-on and trivia night meetups at alternate locations. One time we made the mistake of running a meetup at the same time as a major concert across the street from our location. Check the calendar for holidays, major tech conferences, concerts, shows, parades, festivals, presidential visits, the day the state authorizes anyone to buy marijuana (yes really I almost missed a meetup that day, though I myself do not partake), and other <strong>traffic-altering events </strong>that may affect meetup attendance.</p><p>Consider the <strong>ambiance</strong> of your event. Think about how your location facilitates <strong>networking</strong> and <strong>engagement</strong>. Is it a location your members will enjoy and want to come back to in the future? I loved the initial location Surf Incubator had which is why I chose it. It was a big open room on the<strong> ground floor</strong> of a building with a <strong>huge projector</strong>. I had to figure out how to run projectors and sound systems — which is not my forte! We would set up a table in the back to welcome guests. I recruited one of my technical female coworkers to come and <strong>mingle</strong> with the guests to get people talking. She is actually way better at such things that me, though over time I got to know members and it got easier.</p><p>Later Surf Incubator closed that space. I was sad, but the new space was better in a way. It was harder to get into because you had to get in the door before a certain time, head up an elevator, and get to the back of the space. Remember to include all the details in your meetup description. Also let people know how to contact you if they show up late and can’t get in. I remember that the owner of Surf, before I started my meetup, did that for me at a meetup he was running. Although the <strong>logistics</strong> were slightly more challenging, the <strong>view</strong> was amazing and we used the back <strong>kitchen</strong>, which was great for setting up food, drinks and getting people to hang out, mingle, and chat.</p><p><strong>Not everyone wants to chat.</strong> Some people just come for the event and want to sit quietly waiting for the presentation to begin. Definitely <strong>say “Hi”</strong> to everyone when you are just starting out but be mindful of who wants to chat and who doesn’t. Some people would grab food and go sit in chairs waiting for the event. Others wanted to hang out and talk shop. A few people came and got the food and left (yes, I noticed) but we didn’t really have much a problem with that overall. People were mostly very engaged.</p><p>You might think that all members want to get certified, or that all members want hands-on events. Maybe you think all members want <strong>stickers and prizes</strong>. <em>Not true.</em> I think the younger generation mostly likes stickers. I’m not sure. But for myself and some other engineers, we are more focused on engaging content that teaches us something we don’t know.</p><p>When finding speakers I really aimed for <strong>expert-level speakers</strong> not introductory content. I was mostly successful. Over time, as I and our meetup members became more experienced, it was harder and hard to find people to present things we didn’t already know. Even after explaining this to people, some showed up and presented very basic content, unfortunately.</p><p>I did <strong>poll</strong> members to find out who was interested in certification and that number was much lower than I expected. I also queried who wanted hands-on events versus presentations. We always got a much bigger turn-out for presentation-only events. Your group may be different. That depends on your target audience. Poll your members and consider what type of group you are trying to create.</p><p>Here’s one thing that may have helped with my AWS Hero status. I’m really not sure. I ran some <strong>certification prep and hands-on meetings </strong>at a different, smaller location It was in a coffee shop across town closer to the AWS campus. I got people to come and speak who had obtained certification. That’s how I met my co-organizer whom I later recruited to be the lead of my DevOps team at a company I helped move to the cloud.</p><p>It was at these <strong>hands-on meetups</strong> where I learned that AWS requires some employees to obtain two AWS certifications in the first year. Some AWS employees would come to these meetups, including some AWS product managers. We had fun figuring out how things work and discussing certification material. That said, we only ever had about 5–6 people at these events. It was also interesting that most of them were not Americans by descent.</p><p>At another hands-on event run by a vendor on a really <strong>hot tech topic</strong>, they got a much larger turnout. The event had over 15 people, maybe 20–30. I don’t recall exactly but that was not for certification — it was about learning a specific new skill. If there’s a hot skill people want to learn, they will show up for what equates to <strong>free training</strong> versus certification prep or a discussion group.</p><p><strong>AWS trivia nights </strong>held at a possibly less convenient location generally got 10–15 people showing up — but those were very fun! It’s really too bad more people didn’t show up because I thought these are a real blast. Teams would really get into it. My co-organizer, Kolby Allen, pretty much ran those events. He worked at a company that had beer and sometimes cider on tap. That was pretty cool. He wrote some <em>very</em> tricky questions. He set up the system their company built to allow people to text answers to the questions and I would attempt to keep track of the score. We gave out prizes just for fun, including sweatshirts from the company where he worked and they sponsored these events, Zipwhip. The company has since been acquired by Motorola.</p><p><strong><em>We never spammed members. </em></strong>I sent the most minimal emails possible because people get so much spam already. Too many times sponsors would ask me to give them the emails of all our members and I said no. Luckily, I couldn’t. Meetup doesn’t give me any information about members over and above what you can see on the Meetup site. My lawyer was concerned about this when I asked him for a contract to transfer the meetup. Looking at the terms on the meetup site clear this up. I’m not transferring any member information or data, just the ability to post meetups to people who chose to sign up.</p><p>As for sponsors that wanted to collect member data, I told them that they could <strong>allow members to consent to providing their data </strong>if they choose in exchange for winning some type of prize or if they wanted to know more about the product or service. If you are considering sponsoring a meetup, consider that the best approach is continued interaction and developing personal relationships over spamming people. They get so much email already and will simply unsubscribe when you send the first email. Like I do. Instead, make a compelling presentation and get people to reach out to you.</p><p>Speaking of spam, we also <strong>disallowed promotional presentations</strong>. Although some people ended up sneaking in one here or there for the most part the presentations were educational. Speakers presented topics in a manner that allowed members to learn AWS — which is why they were there. They learned something whether they brought the company’s product or not. Companies could show how their product or service made it easier to achieve certain objectives, but people could also take back the concepts and use them even if they didn’t have the product. <strong><em>The few times we did get bad reviews on the meetup it was because the speaker went off topic and presented promotional material.</em></strong></p><p>How did I find <strong>sponsors</strong>? That was probably the hardest work of all. I got lucky from the start and had a company sponsor the meetups on a regular basis but we had no alcohol and mostly served things I couldn’t eat, to be honest. I still appreciated that sponsor very much because without them, I don’t think the meetup would have ever gotten off the ground. Unfortunately, I didn’t collect payments up front and for some meetups was left holding the bag. I had to dig the money out of my own pocket. Initially the meetups cost less to run, but still around $750–900 each time. It was at this point that I stepped up the cost and quality of the meetup and changed the rules of engagement for sponsors.</p><p>I produced a <strong>document outlining what sponsorship entails and the benefits of sponsoring the meetup</strong>. I explained our membership, the type of food we serve, the location and why it remains consistent, and rules around member contact information and presentations. I made it super easy for sponsors to sign up and required payment up front before publishing the meetup. <em>If someone does take over the Seattle AWS Architects and Engineers meetup will get a copy of that document and I’ll answer questions about how I handled all of that.</em></p><p><strong>Obtaining sponsors</strong> involved reaching out to people I’d met at <a href="https://reinvent.awsevents.com/">re:Invent</a> or elsewhere first of all. As my contacts grew at Amazon I could reach out to different people in different departments to speak to our group. I’d try to find some topic we hadn’t heard about before from someone at a product team at Amazon, plus one sponsor company.</p><p><em>Amazon rarely sponsored the meetup. </em>In fact, initially they told me Amazon never sponsors meetups, but later they did sponsor a couple. One was on AWS’s 10th anniversary and they brought a cake and champagne! Don’t expect Amazon to sponsor all your meetups, if any. I ran the meetup for years before AWS pitched in. This is intentional. AWS doesn’t want to control the meetups they want to allow people who love the service to run them and speak freely about it. That’s a better endorsement than an AWS-controlled event. You’ll need to hit the ground, put in the time, and find ways to contact sponsors and present the value of hosting a meetup to them.</p><p>When it comes to <strong>running the actual meetup </strong>there are a few details to keep in mind. I streamlined operating this meetup to minimize the communication and interaction to keep it going, because I am very busy all the time! One of the things that’s good to do is send a <strong>calendar invitation</strong> to anyone involved in sponsoring, speaking at, or co-organizing the event. Make sure you send a <strong>reminder email </strong>before the event to all involved to confirm their attendance and acknowledgement of the time and place of the event. People forget! <strong>Respond to inquires from sponsors right away.</strong></p><p>Try to <strong>set up the meetup far enough in advance </strong>for people to block out their calendar but not so far in advance that they forget about it. We’d often setup the meetup 3–4 weeks ahead for in-person meetups. After you set up the meetup put out some promotion on <strong>social media</strong>. We used Twitter, LinkedIn, and Facebook. I and my co-organizer would announce events. We’d try not to do it in the middle of the night but I don’t go into detail tracking the specific day and time of the week to get the most engagement. I might retweet it one or two more times after that. At some point the owner of Surf Incubator reprimanded me for not using <strong>hashtags</strong>. You may also want to add @awscloud and your sponsors or speakers to your social media posts.</p><pre>But please — do not do what random people do to me and tag people you want to promote the event who are not really involved. People always tag me in their blog post and event announcements and I’m not sure why exactly. I definitely do not retweet things when people do that to me, so I don’t advise it.</pre><p>If possible have someone spell check your meetup post.<em> (Unlike this blog post. I apologize. No time once again.)</em> Meetup has a link to the location. Make sure that all instances of the location in your meetup are accurate, and your instructions for getting into the door and navigating to the specific space in the building where the meetup is going to be held. Check phone numbers, titles, spellings of names, and any links — especially links to sponsors!</p><p><strong>Get to the location of the event early</strong> and <strong>make sure everything is set up</strong>. In our case, we sometimes had to arrange chairs, tables, A/V equipment, get parking passes, ensure the vendor came in time, set up beverages, wine glasses, and containers with ice for beer and sodas. Set up the projector and any sound equipment in advance and <strong>ask speakers to come test their setup prior to — not during — the event!</strong></p><p>We also would <strong>play music at the events</strong>. I’d hook up my iPad to the sound equipment and play some rockin’ 80s music for all us old people. The group was mostly targeted at architects and engineers who were a bit more experienced, shall we say. The younger folks didn’t complain too much. :) Other times my co-organizer would pick the tunes which would be more like the music you hear at AWS re:Invent.</p><p>One time I used a song as a starting point for a Pandora <strong>playlist</strong>. (I had to pay for a subscription that would not play ads, by the way, which is another cost of for the meetup.) When the sponsor walked in their song led to Pandora playing, “I’m too sexy…” They didn’t seem to mind but that is a consideration when choosing a randomized playlist. You don’t know what’s coming next!</p><p>At the event, introduce your sponsors and <em>say </em><strong><em>“Thank you!”</em></strong><em> </em>Introduce your speakers. When I first started the events I was a bit nervous. I took the time to <strong>memorize names, titles, and the topic of the presentation</strong>. I would try to remember to <strong>ask people how to pronounce their names</strong> before the event. I don’t know how many times people mispronounced my name introducing me… Over time this got easier, and I made some mistakes, but I really tried to get names right!</p><p>During the event we would try to <strong>take photos</strong> and post them on social media and on meetup so people could see what was going on. We didn’t record the events to try to get people to come in person. That was kind of the point of “meet.up.” Hopefully, people who see the photos and want to come the next time. You can tag the speakers in the photos to get them to repost them.</p><p>After the meetup — <strong>thank everyone again!</strong> This includes your members because without them, there would be no meetup. Thank your speakers and sponsors. Thank people at the meetup, on social media, and if possible, with a follow up email. As I got busier and busier this was hard to do but again, I tried! If possible, ask sponsors to <strong>add a link to their slides in the meetup comments</strong> so people who were at the meetup or signed up and couldn’t make it can get a copy.</p><p>Given all that, here a summary of things to consider if you want to run an successful meetup:</p><ul><li>Who is your target audience?</li><li>What is your meetup brand?</li><li>Do you want to run a cheap pizza and beer meetup (which many people are fine with!) or do you want to aim for higher quality?</li><li>How will people get there?</li><li>What parts of town will your meetup serve?</li><li>Will people consistently know how to find you?</li><li>Does the food you serve appeal to people with different food allergies or preferences?</li><li>Will you serve alcohol or not?</li><li>Does your location facilitate networking and engagement?</li><li>Does your location offer parking? Provide parking information on your meetup description.</li><li>Do you talk to your members and have people who can help make the group more interactive?</li><li>What do your members want? Some members like stickers and interactive workshops and others prefer to watch a presentation. Don’t assume all members are the same!</li><li>Do you have time to find sponsors to help cover the costs?</li><li>Can you communicate clearly with sponsors as to their requirements and what you will provide?</li><li>Will you be able to double-triple check everything to make sure sponsors and speakers show up at the right time, at the right location?</li><li>What level of presentation do you want to provide — entry level, intermediate, or advanced?</li><li>Can you arrange food and drinks and verify that vendors will show up in time?</li><li>Can you set up the audio-visual equipment and be there in advance to help your speakers test it?</li><li>Do you want to play music and what type of music will appeal to your audience (not just you.)</li><li>Who will be responsible for cleaning up after the event? Do you need to take down chairs, clean up food and drinks, and put equipment away?</li></ul><p>OK, so <strong>do you think you have what it takes to run an AWS Meetup</strong>? I’m looking for an organization to take over the Seattle AWS Meetup. I’m currently in discussion with one organization, but have to ensure the new organizer will continue to run regular events and provide on-going sponsorship and support. I and my co-organizer will be completely stepping away so the new organizers can run it as they see fit. This would not just be an individual, but a company whose executives will sign a contract I had my lawyer work up back in 2020 (negotiable of course) with very simple terms to transfer ownership of the meetup.</p><p>If that sounds interesting to you, please reach out on LinkedIn. We can provide some contacts and guidance to get you going and introduce you to our most wonderful members, whom I already miss due to the pandemic and having moved across the country. We recently had someone on a virtual meetup from AWS who ran a poll and people are generally ready to get out and start attending events in person again so hoping to get this meetup up and active again!</p><p>Teri Radichel — Follow me <a href="https://twitter.com/teriradichel">@teriradichel</a></p><p><em>© </em><a href="https://2ndsightlab.com/?source=post_page---------------------------"><em>2nd Sight Lab</em></a><em> 2022</em></p><p>____________________________________________</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/250/0*H9Ew1KCl-29nZiPR.jpeg" /></figure><p><strong>Want to learn more about Cybersecurity and Cloud Security? </strong>Check out: <a href="https://www.amazon.com/Cybersecurity-Executives-Cloud-Teri-Radichel/dp/1652474811/ref=as_li_ss_tl?_encoding=UTF8&amp;qid=1601801560&amp;sr=1-1&amp;linkCode=ll1&amp;tag=2ndsightlab-20&amp;linkId=3204d6389211538a20eabff16973183e&amp;language=en_US">Cybersecurity for Executives in the Age of Cloud</a> on Amazon</p><p><strong>Need Cloud Security Training? </strong><a href="https://2ndsightlab.com/cloud-security-training.html">2nd Sight Lab Cloud Security Training</a></p><p><strong>Is your cloud secure?</strong> Hire <a href="https://2ndsightlab.com/">2nd Sight Lab</a> for a <a href="https://2ndsightlab.com/cloud-penetration-testing.html">penetration test</a> or <a href="https://2ndsightlab.com/cloud-security-assessment.html">security assessment</a>.</p><p><strong>Have a Cybersecurity or Cloud Security Question? </strong>Ask <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">Teri Radichel</a> by scheduling a call with <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">IANS Research</a>.</p><p><strong>Cybersecurity &amp; Cloud Security Resources by Teri Radichel: </strong><a href="https://medium.com/cloud-security/cybersecurity-author-teri-radichel-bea5f6c8452f">Cybersecurity and Cloud security classes, articles, white papers, presentations, and podcasts</a></p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=fe7481a1b5eb" width="1" height="1" alt=""><hr><p><a href="https://medium.com/cloud-security/on-becoming-an-aws-hero-fe7481a1b5eb">On Becoming an AWS Hero</a> was originally published in <a href="https://medium.com/cloud-security">Cloud Security</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>]]></content:encoded>
    </item>
    <item>
      <title><![CDATA[What I would change on Microsoft Azure]]></title>
      <link>https://medium.com/cloud-security/what-i-would-change-on-microsoft-azure-part-1-4760d5f7ccbe?source=rss-863161906cc5------2</link>
      <guid isPermaLink="false">https://medium.com/p/4760d5f7ccbe</guid>
      <category><![CDATA[cybersecurity]]></category>
      <category><![CDATA[security]]></category>
      <category><![CDATA[azure]]></category>
      <category><![CDATA[cloud]]></category>
      <category><![CDATA[cloud-security]]></category>
      <dc:creator><![CDATA[Teri Radichel]]></dc:creator>
      <pubDate>Tue, 12 Apr 2022 15:58:14 GMT</pubDate>
      <atom:updated>2022-05-02T14:32:04.656Z</atom:updated>
      <content:encoded><![CDATA[<h4>A few submissions for the Azure Wishlist and an Azure Support Diary</h4><p>I’ve been working on some new ideas on <a href="https://portal.azure.com/">Microsoft Azure</a> that intrigue me such as using a remote IdP to handle user authentication with Azure handling authorization. I also signed up for Standard support ($100/month) to see if it can help me resolve the issues more quickly. Some of the features I’m testing out are in Preview. Here are a few items on my Azure wishlist today.</p><p><em>Apologies for typos I have no time today.</em></p><pre>Caveat: I’m sure running a global cloud platform is not a simple feat. So many moving parts it boggles the mind how a CEO or security executive could even keep track of all of this and manage it. Hoping this helps provide some insight to someone who can actually address the issues as some things need to be addressed over and above support tickets.</pre><pre>BTW: Although I&#39;m writing about Azure here, all other cloud platforms, technical product companies, and telecommunications companies should take note. The tips in this document apply to most support teams I deal with across the board. </pre><ul><li>Very confusing to report a case when you search for Support Request in the Azure portal. <strong>FIX: Add a button on the page you get to when you search for “Support Request” to have a button to create a support request instead of having to click a link at the top to get to that page.</strong></li><li>I have to login to GitHub to provide feedback on documentation.<strong> FIX: Don’t make people log into GitHub to report a problem with documentation or I won’t bother. I’m busy and don’t want to be logged into GitHub unless I need to be.</strong></li></ul><pre>e.g. “The identities of the virtual network and the subnet are also transmitted with each request.” Networks have identities? What does that mean, exactly?</pre><ul><li>Support staff is responding to questions without reviewing or maybe understanding screenshots provided with the case. <strong>FIX: Please look at the provided screenshots before answering the question.</strong></li><li>Support staff are asking me to do a remote session. That is a security risk if people in an account are allowing them to do that and security teams and administrators don’t know about it. <strong>FIX 1: Don’t ask for remote sessions unless it is actually required. The person could have reproduced my steps with the information I provided. FIX 2: Remote sessions should require higher privileges to allow and should be a button you have to toggle on in the portal, with a time limit, that turns back off after the session. </strong>(I was looking for the information on how the person intended to initiate the remote session. I don’t want to allow it. I just wanted to understand what the person wanted to do exactly, so I could analyze the associated risk.)</li></ul><pre>If I give someone access via a remote session can they make changes in my account? </pre><pre>How do you grant a remote session? I never would so I haven&#39;t looked into it. Shouldn’t checking the box to provide diagnostic access be enough? </pre><pre>The person asked what error message I was getting, but I had already provided the error in a screenshot.</pre><pre>I provided in a detailed blog that had step by step the actions I took in two products to set up an IdP. I presume someone could follow those steps to try to reproduce the problem. The IdP I&#39;m using has a free trial option.</pre><pre>I don&#39;t want Azure support viewing my private IdP configuration information. That is why I provided a screenshot of the page without the details.</pre><pre>Now I have requests out to the support teams on both sides and this is where it gets tricky. Which vendor is actually going to help me solve the problem instead of pointing to the other vendor? We&#39;ll see who gets this done first.</pre><ul><li>As global admin <strong>you won’t necessarily see all the subscriptions and resources in your account </strong>until you toggle a special button. Even after you toggle the magic button, some of the logs and information is not accessible. Even after assigning the global admin the “Security Reader” role I can’t see them all without making myself an owner of the subscription. You have to go in and manually assign yourself as owner of every subscription. Then you’re supposed to turn off the magic toggle again. The problem is, someone comes along and creates a new subscription. Repeat. Also, what’s the point of the magic toggle if anyone who gains access to that account can simply go in and flip the switch? I am trying to understand the purpose of that feature but haven’t figured out a good reason for it yet. <strong>FIX 1: Just make the global admin a true global admin and tell people not to use it and store the credentials in a safe place. FIX 2: Definitely make every and all logs accessible when you flip the magic elevation toggle.</strong></li></ul><p><a href="https://docs.microsoft.com/en-us/azure/role-based-access-control/elevate-access-global-admin">Elevate access to manage all Azure subscriptions and management groups</a></p><ul><li>The Global Administrator does not have access to certain aspects of a new tenant when created. <strong>Fix: It seems like the Global admin should have access to <em>everything in the account by default. </em></strong>What if developers have created something the GA doesn’t know about and it’s hidden from their view and they don’t realize it?</li><li>Azure DevOps looks interesting, but it requires a gazillion URLs which makes firewall rules very difficult. <strong>FIX: Create some sort of proxy for these requests so people can add a small number of firewall rules. Perhaps distinctly different features have a different and clearly defined domain so organizations can block access to a certain feature using network rules. However, this is a bit unwieldy.</strong></li></ul><p><a href="https://docs.microsoft.com/en-us/azure/devops/organizations/security/allow-list-ip-url?view=azure-devops&amp;tabs=IP-V4">Allowed address lists and network connections - Azure DevOps</a></p><pre>Also note that although you can use a proxy for private access, it may be that the traffic still goes over the public Internet from a remote location not in Azure once it leaves the Azure private access proxy. If you want your traffic to be truly private make sure it’s not just allowing access from a private IP address and then sending it over the Internet anyway unless that’s what you want. I haven’t tested this out yet.</pre><ul><li>While viewing audit logs support is telling me that a filter is causing logs not to show up, but there is no filtering capability on the page. I see an error message. The support person I don’t think looked at the screen shot and saw that the problem was an error message, not a filter. In the end, this was a bug I think. <strong>FIX 1: Look at support case attachments. FIX 2: There’s a bug here after further analysis, I believe.</strong></li><li>There is no way for me to mark a support case as closed. <strong>FIX: As a customer I should be able to close a case when I figure out the answer myself or the system magically starts working again (as it did last night).</strong></li><li>After the support teams says they will close a case upon my request, the case still shows that it is open. <strong>FIX: Mark the case as closed and have it show up as closed so it drops off the active list.</strong></li><li>After the support team says it will close the ticket it remains open and people keep replying to it. <strong>FIX: Save us all time and close the ticket so people don’t keep replying to it after it’s resolved.</strong></li></ul><pre>Example: Azure Activity Logs were not working. This is initially why I signed up for support.</pre><pre>I submitted a support case and magically the logs started showing up as soon as I submitted my request?!</pre><pre>I added a comment to the ticket shortly after creating it that the issue was resolved. Since then I have received three responses, all telling me “Thank you. I will close the ticket.” I think I see what the problem is with the system that is causing this.</pre><pre>1. I enter my request. I get an automated response. </pre><pre>2. I respond to my request saying it&#39;s ok now, please close the request (since I cannot close it myself.)</pre><pre>3. Someone responds to my first request and apparently can&#39;t see my response that it&#39;s ok now please close?</pre><pre>4. I respond again saying the problem is resolved.</pre><pre>5. I respond again asking to close the request.</pre><pre>[One of my faults, I tend to send a couple of messages in spurts like one would send a text message and that&#39;s not good in a support portal. Trying not to do that but it happens.]</pre><pre>7. Someone else responds to #2 that they will close the case.</pre><pre>8. Someone else responds to #4 that they will close the case.</pre><pre>So what you have is people responding multiple times to the same case that I want closed saying they will archive and close the case but it is still in the open status and people are still responding. </pre><pre>I&#39;m just waiting now for one more person to respond to #5 telling me they will close the case. Yep...just got it as I am writing this. That&#39;s 4 responses telling me they will close the case and it&#39;s still open and people are still responding.</pre><pre>Do people have to meet some kind of quota related to responses because they respond with messages like &quot;I&#39;m glad I could help you with this.&quot; And yet the case is still open.</pre><pre>Meanwhile, my other cases that I need help with are missing*** from the portal, and are unresolved. </pre><pre>*** Note they were not missing (I don&#39;t think) there are just quirky things with the filters and some bugs shown in the screen shots below that I figured out later. ***</pre><pre>Update: Took an hour long consulting call and when I came back this case is finally marked close. However, I have another case in the same state. People keep replying to it and it magically started working as soon as I signed up for support. It&#39;s related to Azure Monitor.</pre><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*24oiXwO-ZtSz2TcHP_bjYw.png" /></figure><ul><li>Support case information is disappearing. I made comments on a case and later they didn’t show up after someone responded. Is this a bug? <strong>FIX: Make sure comments show up after added and cannot be removed.</strong></li><li>Emails outside of the support portal did not show up in the support portal. Someone emailed an answer to a question and when I logged into respond that person’s answer was not there. Is this a bug or a person going around the system? <strong>FIX 1: Fix the bug that that caused that person’s answer not to show up or FIX 2: Make sure people aren’t taking actions outside the support portal so there’s an accurate log of the activity on the ticket.</strong></li><li>This may be just me but the switch tenant functionality is not obvious enough. You have to click on a tenant to get the switch function to become active so you can use it. <strong>FIX: Potentially show the status of the tenant in the list showing which one is active with a button on the others to make it the active tenant.</strong></li><li>I submitted tickets in the evening. I went to bed and people responded. Now apparently those people are off shift and no one is looking at the tickets. <strong>Fix: When someone is off shift have someone else take a look at the tickets and see if they can resolve them instead of waiting until that person comes back on again. People just respond to a ticket with minimal information so it meets the required timeframe and then it just sits there. </strong>(I had the same problem with other cloud providers.)</li><li>I submitted a new ticket asking if someone could pick up the open tickets which mostly revolved around permissions. The person that picked up my request did not read the ticket or respond to what it was about. <strong>FIX: Read and respond to what is written in the case.</strong></li><li>For support tickets, the list doesn’t tell me who’s turn it is to respond. <strong>FIX: Add a column that shows who’s got the next action.</strong></li><li>I submitted a case to resolve the following: Cases not showing up in portal — please add them, cases I’ve requested to be closed are still open, and reassignment of cases that have not been resolved in a timely manner. Now I wait…… This is the point where there’s nothing for me to do because all the cases are deadlocked in non-responsiveness and unhelpful answers and usually I give up and go do something else. I never get around to logging back in because I’ve just given up and finally someone closes them because I don’t respond. I’ll try to come back and check later. <strong>Fix: Improve the whole process before it gets to this point.</strong></li></ul><p>Update:</p><ul><li>Got this in one of the support responses. It is extraneous and makes the response much more wordy than it needs to be.<strong> Fix: Only respond with the required information.</strong></li></ul><pre>We will consider this issue resolved when one of the following conditions are met:</pre><pre>Once we are able to determine why you are getting this error.</pre><pre>A workaround has been provided that will allow you to solve your business need.</pre><pre>It has been clearly identified and/or shown to you that what you are attempting to do cannot be supported by us.</pre><pre>The issue that you are experiencing is by design.</pre><pre>Microsoft works on ‘one issue per incident’ basis. As per Microsoft an incident is defined as an issue that cannot be broken down any further. In case you have any other issue after this, you would have to create a separate incident for it.</pre><pre>During the course of troubleshooting, it is possible that the issue may be existent as a result of a problem from a Third-Party Software/Hardware side. In such situations, you would have to contact the respective vendor(s).</pre><pre>We will now begin working together to resolve your issue. If you do not agree with the scope defined above, or would like to amend it, please let me know as soon as possible.</pre><ul><li>I actually got an answer on the first try for one case and requested to close it. I also figured out that one of my requests is an Azure bug. There are now 4 cases in the portal which I’ve requested to be closed. <strong>Fix: Allow customers to close their own cases but for now, close cases as soon as a customer asks — without responding because that is a waste of time and inbox.</strong></li></ul><p>Update:</p><ul><li>Moments later my support requests have disappeared again. <strong>Fix: Clearly this portal has an issue. </strong>Note that I took the time to figure out what the bug is and provided screen shots below.</li><li>I just figured out what is confusing about tenants. <strong>Fix: When you click on Azure Active Directory “Manage Tenants” should be in the left menu with everything else.</strong></li></ul><p>Update:</p><ul><li>Took a break. Now the only support requests I can see are ones that I asked support to close. They are still all open except one.</li></ul><p>Update:</p><ul><li>Went to eat dinner and came back to this. Was still confused by filters and support bugs and couldn’t find tickets. Figured out later this was the bug below but it was very confusing. <strong>Fix: Fix the bug.</strong></li></ul><p>Update:</p><ul><li>Cannot add two files when creating a support case, unless I’m missing it. I can go back after I create the case and add the files — if I can see it. I just created a case and it’s not immediately showing up and I need to add two more screenshots. <strong>Fix: Allow upload of multiple files on initial creation.</strong></li></ul><p>Update:</p><ul><li>Went to bed. Got up to check my cases.</li></ul><pre>Sometimes I wonder if people are intentionally trying to be unhelpful or they really don’t understand or take the time to read what I am writing. We had this saying at Capital One: Assume good intentions. So that’s what I’ll do.</pre><ul><li>In the case where I provided a step by step walk through with detailed screenshots and instructions of the actions I had taken and the resulting error, the person responded with a couple of sentences pointing to the option in the menu in the Azure portal to perform the action which I provided detailed information showing I had already done. He or she did not address the error message I provided that occurred at the end of those steps. <strong>Fix: Read the message provided in the case and look at the screenshots. If the customer provides steps they took that led to an error, take those steps yourself to see if you can reproduce the problem.</strong></li><li>In a case where I asked a person if they could see VMs in my account, the person responded that there are multiple subscriptions in my account. Um, yes, I know that. <strong>Fix: Answer the question that was asked.</strong></li><li>I figured out that the global filter is tricky. I’ve been working with multiple tenants which I didn’t do so much in the past in order to test out permission boundaries, etc. If you set the “global filter” it appears that it’s not truly global. It only applies to one tenant I think. So even though I had set the global filter to all subscriptions and turned on the magic elevation toggle, I wasn’t seeing all my subscriptions. <strong>Fix: Somehow there has got to be a better way than using this hidden global filter and magic button. Remove those and use filtering on the subscription page.</strong></li><li>I asked a question about not being able to see all the subscriptions when logged in as a user that was assigned the security reader role in <em>two tenants</em>. The person that responded to that last case replied that I have one tenant in my account (I provided screenshots and explained there are two.) The person explained to me how to add the security reader role. That was not my question. The user is already assigned the security reader role as I had explained. I figured it out myself and asked the person to close the case. <strong>Fix: Read the message in the case and look at the screenshots.</strong></li><li>It seems like when I turn off the global filter it doesn’t stay off. <strong>Fix: Make sure if someone turns off the global filter that it stays off until they turn it on again.</strong></li><li>When I started creating support tickets I set a default email address. My last two tickets went to a different address. I don’t know if that is because I submitted them from a different place in the portal that was in a different tenant or subscription or something.<strong> Fix: The default email address for a user for support tickets should be the same across all of Azure and then have a more granular way to set different emails for different resources.</strong></li></ul><pre><strong>Here’s the whole problem causing most of the confusion, besides what appears to be a bunch of bugs when navigating certain paths of the portal:</strong></pre><pre>You need a filter at the top of every page that has the following: <br>- A drop down for region<br>- A drop down for subscription<br>- A drop down for tenant<br>- A check box to apply the global filter or not and a link to edit it<br>- For global admins an indication as to whether or not they have elevated privileges (or get rid of that because what is the point? People should not be using the global admin account - I&#39;m only doing it for research purposes.)<br>- A way to click on something that shows which roles apply to the user on the current screen and with the current selections.</pre><p>Other discoveries:</p><ul><li>When you have multiple tenants the “global filter” is not actually “global” it applies only to the current tenant. <strong>Fix: Make that clear on the screen where the person is editing the “global filter” to ensure the person understands it only is global for one tenant.</strong></li><li>When you toggle the magic elevation button, that also only applies to one tenant.<strong> Fix: Make it clear in the documentation — highlight it somehow — that you have to elevate in each tenant where you are having an issue to see all subscriptions across all tenants.</strong></li><li>When you are on the subscriptions page and you change the filter to uncheck the global filter, the next time you come back the filter reapplies the global filter. <strong>Fix: Save the settings the user selected.</strong></li><li>When you select “all subscriptions” it still applies the global filter. All subscriptions does not mean “all subscriptions” in this case.<strong> Fix: Uncheck the global filter when someone selects all subscriptions.</strong></li><li>In order to view subscriptions in another tenant you have to navigate to confusing pages as noted above and switch to a different tenant and then navigate back to the subscriptions page to the subscriptions for that tenant. <strong>Fix: Allow switching to a different tenant from the subscriptions page. These two things seem closely related.</strong></li></ul><p>Update:</p><p>Been handling cloud security and container consulting calls all day and checking support requests in between. Here’s the latest:</p><ul><li>I posted a support case number on Twitter and asked that it be <strong>closed</strong> because nothing I request to be closed in the portal is getting closed and because that case had a title that apparently confused the person that read it. He or she only read the title and not the case contents. I wanted that case to be closed to avoid confusion. The person keeps responding after I asked to close it — multiple times. <strong>Fix 1: When a customer requests to close a case, close it. Fix 2: Better yet, let customers close cases. Fix 3: Either that or allow the customer to edit categories and subjects if they make a mistake.</strong></li><li>I created a new case with a different appropriate title and provided the information required to restore the missing cases in the second ticket (which I found later, see bug below). I tried to be more clear in my request to avoid confusion. I reported the bug in this ticket later. So far I have gotten no help with that case I requested to have escalated on Twitter. I am trying Twitter because I don’t know how else to get my case escalated. It’s not working. <strong>Fix 1: Provide a better way to handle escalations. Fix 2: I have a number of issues about at the same level, however one is more urgent that the others. I wish there was a way to indicate that. However, I do not want phone calls, so I am not going to pick priority A. I want the information support provides documented in the portal for later reference. I also find that it’s easier to communicate in writing with people who speak another language.</strong></li></ul><p><em>Side note. I love this checkbox in the </em><strong><em>Okta</em></strong><em> support portal:</em></p><figure><img alt="" src="https://cdn-images-1.medium.com/max/862/1*gs9aJ4s7j0kbYaJqO9YKZA.png" /></figure><ul><li>Another thing I noticed was that I was able to solve some cases myself, so I moved the priority down to C. (A, B, C). Once I realized that the cases were not getting worked in the order I wanted, I tried to downgrade some to C, but once an engineer picks it up that can’t be changed. <strong>Fix: A customer should be able to change the priority as new information or other urgent matters arise related to their cloud account.</strong></li><li>Directory is in small print top right nav. Same issue with regions in AWS where people don’t realize what region they are in and think all their resources are gone. <strong>Fix: The currently selected tenant could be more prominent in view when dealing with subscriptions. </strong>The pop out there works exactly like I recommended above. The currently selected directory is very clear and nicely designed.</li><li>Filter on the subscription page has a lot of space between the subscription list and the global filter checkbox. If a user has made the height of their screen very small so they can look at two screens at once they will not see the global filter unless they scroll down. This is know as “below the fold” in UI design. <strong>Fix: Move the global filter checkbox to the top of that screen so that regardless of the height of the filter popup, the user always sees it. Fix: Move the button at the bottom to the end of the list (remove the extraneous space).</strong></li></ul><p>Moving along…</p><ul><li>Adding roles to a user in a tenant won’t work until the user is invited to the tenant and accepts the invitation. Although my user had the necessary roles the user could not switch to the tenant. <strong>Suggestions: 1. Add a note to that page where you assign roles that they won’t work until the user accepts the invitation. 2. On the user’s page where they switch to a new directory, add a note that says an email invitation is waiting. 3. If the email bounces, indicate that on the users list where it says “Invitation.” 4. On the users list where it says “invitation” indicate whether or not the invitation has been accepted.</strong></li><li>I got an email that looks like this, FYI. <strong>Suggestion:</strong> <strong>Possibly a bit of design work to make it look more trustworthy?</strong></li></ul><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*5VgBDHD5Rqh5DH2UYCJ0kQ.png" /></figure><p>This domain also popped up. Hopefully that is expected.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*hR5aGKo5xdJzZYFXkVpsdw.png" /></figure><ul><li>After going through this process it tried to force me to login with the Microsoft Authenticator app. I had to back up and try again to use a different authenticator. <strong>Fix: Make it easier to use a different authenticator app during this process.</strong></li><li>Finally…I was able to get to the tenant and had assigned the security reader role to all the subscriptions and could see them.</li><li>Although that works, creating yourself as a guest user of your own tenant seems a bit odd. I kept asking support if there was a way to assign a user the security reader role across all subscriptions in my account. They kept repeating that I had to assign the user the reader role separately in each subscription. In a few cases they said, oh by the way you have multiple tenants but didn’t provide a solution for granting the user access to the second tenant and the subscriptions in it globally. I figured there must be a better way so I kept looking.</li></ul><p>You can grant tenant-wide access to Microsoft Defender for Cloud:</p><p><a href="https://docs.microsoft.com/en-us/azure/defender-for-cloud/tenant-wide-permissions-management">Grant and request tenant-wide permissions in Microsoft Defender for Cloud</a></p><p>This page mentions cross-tenant management.</p><p><a href="https://docs.microsoft.com/en-us/azure/defender-for-cloud/cross-tenant-management">Cross-tenant management in Microsoft Defender for Cloud</a></p><p>With Azure Lighthouse:</p><p><a href="https://docs.microsoft.com/en-us/azure/lighthouse/overview">What is Azure Lighthouse? - Azure Lighthouse</a></p><p>This article is also useful:</p><p><a href="https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/multi-tenant-user-management-introduction">Configuring multi-tenant user management in Azure Active Directory</a></p><p>None of the support people mentioned this in any of my cases when I was trying to achieve this objective. Some of the above still seems to be written from the perspective of a third-party managing your Azure resources versus an in-house security team, but it seems like it would still be good to mention.</p><ul><li>So now every single case I have open can be closed except the most important one I was hoping to complete in one day….got help from someone at Microsoft who is trying to help me with that. <em>Thank you!!</em></li></ul><p>Update:</p><ul><li>Spoke too soon. The issue I mentioned about with the screenshot about non-compliant VMS: Once again I got a response in email instead of in the portal. I didn’t see it. I copied and pasted into the portal. Initially, I thought the person had confirmed it was a bug. Then I realized I misread what she wrote. I have no VMs in my account and Microsoft Defender for Cloud appears to be telling me in that screenshot above that I have non-compliant VMs. I asked the person assigned to this ticket if she could confirm, by looking in my account which I set up for testing, that there are no VMs in my account. Instead of doing that she keeps telling me that I have other subscriptions. Yes. I know. I have multiple subscriptions and multiple tenants. She also is trying to get me on the phone. Why does Microsoft support <em>always do this</em>? I don’t think this is a complicated request, is it? I have a very small account I have set up specifically for testing something. It seems like it is a very simple ask. Look at the tenants and subscriptions and tell me if you see any VMs because I do not. <strong>Fix: Check what the customer asks to confirm you see the same thing the customer does, unless you cannot for some reason. If you see something different, explain how you got to that view. If you cannot do what the customer is asking, then respond and tell the customer that due to constraints on your end, such as not being able to view all the tenants or subscriptions, that you cannot do what they are asking. </strong>Note that this person did ultimately help me and confirmed this is a bug.</li></ul><p>Update:</p><ul><li>Got up in the morning. Haven’t submitted any new tickets. Figured out all the issues myself except one and two open tickets. Hoping to see all tickets closed. Nope. <strong>Fix: You know.</strong></li><li>The views in the support portal are confusing and don’t show me all my cases. I figured out what is going on and seems to be some kind of bug. Here are screen shots explaining the confusion and bug:</li></ul><pre>When I first login and go to support cases this is what I see:</pre><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*jZRFYcJAM6-OCeMOamYq6w.png" /></figure><pre>Note that the last case says <strong>“audit logs”</strong> and is one of the very first things I submitted. You used to be able to type “audit logs” in the search bar and get to the audit logs when logged in as a global administrator. Now it tells me I don’t have permissions. I concluded that this is a bug. I don’t think the support person ever took the steps I provided or understood me. I requested to close that ticket over a day ago I believe and someone responded 20 hours ago saying they would close it. As you can see it’s still open.</pre><pre>Next I click on “See all support requests.” Wouldn’t you expect to see the “audit logs” case when you click on “See all support requests”? I did but maybe I don’t understand the purpose of that link. When I click it this is what I see:</pre><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*L3MtAt8efQDB5BggrDZ9Lg.png" /></figure><pre>This list does not have the “audit logs” case. </pre><pre>On that same screen you can filter by Open, Closed, and All. If you select &quot;All&quot; on this screen, you actually get &quot;All.&quot;</pre><pre>Of these cases only the first one should be &quot;Open.&quot;</pre><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*5e0nhmE7pmnjZ2v7Rr12cw.png" /></figure><pre>It also shows you that I still have a number of cases open after requesting to close all of them but one now. The first one named “Support Cases” is the one where I requested help to close all the cases. An operations manager responded in email and said he can’t respond in the portal due to some technical limitation. He said he is working on closing all the cases. I’m not sure how long it is supposed to take or if he can’t affect what is going on in other departments, but they are still open.</pre><pre><strong>Support Cases + Tenants</strong></pre><pre>The other issue is that I found three cases under my other tenant. I never signed up for support before with multiple tenants. I generally don’t even bother with support due to issues such as the above. I research and figure out things myself. So this is my first attempt at support with multiple tenants.</pre><pre>When I submitted the cases I presumed they would be global. I also thought I had selected the same tenant each time I submitted a case. I want to go back and test that but I don&#39;t want to proliferate more support tickets in my account.</pre><pre>When I signed up for support, I think I had to choose a specific tenant. If I was not allowed to submit cases in another tenant, the portal should prevent me from doing that so I presume it is OK. If it wasn&#39;t, people wouldn’t be responding to those tickets and they are.</pre><pre>So having tickets in multiple tenants was part, but not all of the problem. I expected the support system to be global. But it&#39;s similar to AWS where you&#39;re logging into different accounts and your support requests are specific to each account. </pre><pre><strong>Fix: Drop down on support page to switch tenants and ability to globally filter on all support requests.</strong></pre><ul><li><strong>Tip for me:</strong> When I used to work with development teams in India, I used to have to provide very explicit, step-by-step instructions to get things done correctly. 1. Do this. 2. Do that. 3. Next do that. 4. Don’t do that. I noticed that one of the support tickets I wrote in that manner it got resolved. It was the ONLY support ticket that actually got resolved without me figuring it out first. I got an error in the portal. I provided the 3 or 4 steps to get the same error. the person told me that in order to view what I was trying to view I had to go over to some other screen to register Microsoft Insights or something. Why, when you sign up for a security service you have to go to some other magic screen and register some service from a list is <strong>Fix 1: Automatically register what is required for a service to work properly when someone signs up for it. Had this same problem with Azure Data Shares. Fix 2: Note to self: Provide explicit, step by step instructions including every click you made to get to the point where you go the error. </strong>It appears that providing a screenshot is not enough because the support people don’t look at them or maybe they don’t know the system well enough to get to those screens. They are also speaking another language (something I cannot do so that is not an insult — I’m not that good.) and it may be harder for them to understand. <strong>Fix 3: If you provide a screenshot tell the person to look at the screenshot. Fix 4: If you provide a link to a step-by-step walk through with all the details in screenshots and steps to reproduce the problem tell the person you provided that and tell them to go look at it explicitly. </strong>However, even when you do #3 and #4, people still aren’t looking at things in every case. That’s when it gets frustrating.</li></ul><p>Update:</p><ul><li>Came back a few hours later. After explaining step by step what I was after in the non-compliant VM issue have now confirmed that my assessment is correct. There’s a bug in Azure. It reports non-compliant resources even though I have no resources in this test account. Here’s another screenshot:</li></ul><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*hRYW8PVzbLdLxJC9rkRrpA.png" /></figure><pre>Considering what could cause this. Here are some guesses:</pre><pre>A software bug with an incorrect calculation.</pre><pre>Would support staff working on tickets in my account with non-compliant VMs cause this?</pre><pre>Is there a resource in an Azure service causing this?</pre><pre>Don’t know but reported so hopefully it gets fixed soon.</pre><ul><li>As I mentioned I later realized that I had submitted tickets inadvertently in a different tenant. What I realized along with that is that is why the recommended categories when I created the ticket didn’t make sense. I recreated a case related to an IdP integration I was working on from the correct tenant, in case that improved visibility into the error message. I still was not sure which category to pick, but I found one with SAML in the description. <strong>Fix: Align the categories with the menus customers pick from in the portal so it’s easier to get requests routed to the correct team.</strong></li><li>In the new case I <em>1.) Provided an attachment 2.) Said I provided an attachment </em><strong><em>with step by step instructions and screenshots</em></strong><em> 3.) Repeated that I provided attachment</em>. <em>4.) Asked the person to look at the attachment and follow the steps. </em>Here is the response I got:</li></ul><pre>Are you able to share screenshots? I’ll need more information on this so I can help you with this issue.</pre><p>…………………………………………………………………………………</p><p>…………………………………………………………………………………</p><p>…………………………………………………………………………………</p><pre><strong>Fix: Train people to look at attachments submitted with tickets!!!</strong></pre><ul><li>In this new request I explained that I hadn’t gotten a response for almost 24 hours. I asked if they could escalate the ticket. I waited a bit then went off to do other things. When I got back nothing was done on the ticket. The person asked for a the other ticket number. When I provided it, the person said they would close the ticket since another one was open. Now you want to close a ticket? Well the person wasn’t really helping me anyway so I said to go ahead and close it. <strong>Fix: When someone asks to escalate a ticket, don’t ask to close it. Help the customer get the problem resolved because that’s why they are submitting a second ticket and asking for help with escalation in the first place.</strong></li><li>As mentioned, a manager contacted me yesterday via email stating that he would help me get all my tickets closed. I’m sure that manager has to deal with a lot of different departments and doesn’t really have control over closing all the tickets so maybe this is not that person’s fault. A bunch of tickets are still open. In the ticket where I had asked to get those tickets closed here’s what another person responded:</li></ul><pre>&quot;We can ask the Support Engineers questions like potentially asking them to close the case but for them to be following process they need to hear directly from you that case closure is permitted.&quot;</pre><pre>So when I write into the ticket &quot;you can close this&quot; or &quot;please close this&quot; does that not qualify is permission to close the case?</pre><pre><strong>Fix: Let customers close their own cases.</strong></pre><p>Update:</p><p>Back for another day.</p><ul><li>Last night I had two tickets open. In my ticket related to issues with support, the person wanted to downgrade the ticket to a lower priority. However, one of the three items in that ticket was to escalate my only remaining open ticket because the person wasn’t reading it the steps I sent over to reproduce the problem or looking at the screen shot with the error message. I didn’t want to downgrade a request for help resolving what should be my only open ticket (it’s not, the others are still not closed). I sent some clarifying information to hopefully make my ask more clear.</li><li>My one outstanding ticket has been assigned to another team. I hope it is the right team. I added a new message on the request reiterating my request. I provided a link to the blog post with detailed screen shots and attached the document where I printed that blog post as well in case they didn’t want to click a link. Waiting to hear back. If that team can resolve the issue will be pretty cool and I’ll share the results.</li></ul><pre>I was thinking about *why* a company would not have the obvious function of letting customers close their own tickets. It’s such a simple thing. I imagine the support team complains because customers close a ticket and open a new similar ticket. But the ultimate problem in that case is not that the customer is closing and open new tickets. </pre><pre>Consider the <a href="https://en.wikipedia.org/wiki/Five_whys">Five Whys</a>. Why is the customer submitting multiple cases? Why is the customer closing and re-opening the same case? Because the support person responding to them <em>is not helping them. Their problem is not getting resolved. </em></pre><pre>Why is the problem not getting resolved? It could be one of many factors including: The support person doesn’t understand what the customer is asking either because the customer is not clear or the support person doesn’t understand English well enough. It could be the support person is afraid to let the ticket go to another team who could solve it faster for fear of being deemed “not good enough” or losing their job. It could be that the support person doesn’t have sufficient training. Perhaps the support person is afraid to ask for help due to draconian management or being derided by others on the same or a different team. The support operations management may be under pressure to meet quotas and that is driving pressure down to support teams to handle support cases too quickly and not be thorough when reading them. Support teams may not have the tools to do their jobs. Support systems which are not customer-facing may consist of broken, buggy software. So many factors could be causing this. </pre><pre>I can only guess. Those running support teams need to do internal analysis themselves to resolve the root causes. Once they resolve those root causes, customers will be happier. Support teams will be happier. Cases will be handled more efficiently. The company will probably save money too.</pre><ul><li>And…I just got another response on a ticket I asked the person to close.</li></ul><p>Update:</p><ul><li>I’ve been going back and forth with the support person on an urgent ticket. For some reason, the support person keeps asking me for information that is in the document I attached. I don’t understand why, but it seems like the person doesn’t want to open the document and follow the steps I provided to reproduce the error I am getting. The document includes step by step instructions with screenshots of each step I took and a screenshot of the error at the end. I’ve explained this problem repeatedly above and I don’t understand why the support people at Azure don’t want to look at the information I provided and ask me questions I’ve already answered. <strong>Fix: Maybe it’s a communication breakdown of some kind but I really can’t understand why the support team refuses to follow the steps I took to reproduce the error so they can tell me how to fix it???</strong></li><li>The error message I’m getting from Azure in that last bullet point is a very unhelpful error message that doesn’t really say anything. I already wrote about writing better error messages and why that is important here:</li></ul><p><a href="https://medium.com/cloud-security/thoughtful-error-handling-ca1064cda8da">Thoughtful Error Handling</a></p><p>Update:</p><ul><li>On the way to pick up my mail it hit me. Perhaps the person responding to my ticket doesn’t understand the meaning of the word “federation.” That’s the only thing I can think of. If the person read my document I am obviously federating authentication, but if they don’t understand what federation is they might not understand that the steps I’m taking are exactly that. Maybe my ticket still hasn’t gotten to the correct team. I’m not sure.</li><li>I wondered if the person wasn’t really referring to federation but specifically the issue that Microsoft only supports certain domain configurations. If so, the person did not read the document I sent over which specifically refers to the DNS documentation in this section of the document.</li></ul><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*U_OsGBBGkBC60zRkzTpHUw.png" /></figure><p>Update:</p><ul><li>Yep. I received a response to my ticket which was a copy and paste out of the above link that I have in my steps that I took that led to the error I’m getting.</li><li>In addition to linking to the document from which the person copied and pasted, right below that link, I provide a screenshot of the error message you will get when you do not take those steps, and explain how to fix it.</li><li>So I think, if I understand correctly, the person is sending me information and asking if I took the steps in the information I sent to them.</li><li>I tried to understand why the person was sending this. Did I update the wrong domain? Did I miss something? I reviewed it all and I can’t see that I did anything wrong. I went back and reviewed my instructions, my document, and repeated the steps in them.</li><li>I still cannot get the person to answer whether they actually went through and tried the steps I provided and got this to work.</li><li>If they want to validate I added the DNS information correctly, they could ask for the domain name to see if I did something wrong or find the DNS records in my logs (I presume the domain I’m trying to set up is logged? I should check that….) ****</li></ul><p>**** Note: after going around in circles on this I decided I did not want to provide my domain name to this particular person because the person will not answer simple questions about the documentation. I started pondering what someone could do with the information if I provide it and need to think through that a bit more. Then thing is: I provided all the information to do exactly what I did on their own systems and with their own domains so they should not need my domains to begin with. Also, the person will not answer the following questions which strikes me as a bit odd so I have requested to escalate this ticket: 1.) Have you followed my steps and successfully implemented what I am trying to get working? 2.) What domain name out of the metadata do I need to put in the first text box when creating a remote IdP? 3.) Which domain from the metadata requires the DNS TXT records? 4.) Where should the logs be when this process fails and are there any logs with more detailed information? See more below on my thought process regarding external IdPs and SAML and potential risks I’m still thinking about at this point. ****</p><ul><li>I asked for clarification and waiting.</li></ul><p>Update</p><ul><li>I asked earlier today to close four tickets on Twitter. The person on Twitter told me to ask the engineers who own the tickets. I responded that I already did. Please help. The reason I asked this was because people keep responding to tickets I requested to close. How does this make sense?</li><li>I got two responses to tickets I requested to close today. The first one was the “I was glad I could help you” type response. OK fine. I haven’t responded to that response all day. It’s hours later. I just got a detailed summary of everything that was said and done in the ticket. I didn’t even read it. However, I have a question. Seeing as how the ticket is already resolved and I asked to close it, is that really necessary? Couldn’t the person be helping other customers instead who need help more than I need that summary? (I don’t need the summary it’s just distracting and like I said, I didn’t read it, so what’s the point of rehashing the entire ticket?) I did look in the portal and it is closed. <strong><em>Thank you.</em></strong></li><li>Regarding my other ticket can’t find any logs related to the action I’m taking to register an external IdP. I requested more information in my support ticket in case I’m just missing the information in the logs. It appears that it should be in the audit logs and would be concerning if activities like this are not logged:</li></ul><p><a href="https://docs.microsoft.com/en-us/azure/active-directory/hybrid/how-to-connect-monitor-federation-changes">Monitor changes to federation configuration in Azure AD</a></p><p>Update:</p><p>Got up this a.m. 4 days after submitting initial tickets. No response on my IdP question as to whether my understanding of the DNS information is incorrect or if there are any additional logs that would provide more insight into the problem. The other ticket I submitted a day ago: Someone responded saying they would be working on my ticket about 24 hours ago. I responded asking if certain things might be causing the problem. Today the portal says someone updated the ticket 2 hours ago but there’s no new response in the portal.</p><p>Update:</p><p>A couple of days later I’m checking back in. First of all, needed to get some work done. Secondly. Taxes. Bleh.</p><p>Now support is telling me that “they” (whomever they is) cannot see the domain I’m setting up for federation. Alright. We’re getting closer to what I need. Someone is actually looking at my specific configuration. However, the reason they can’t see the domain is because <em>I can’t add it.</em> That’s what the ticket is all about. I get an error message provided in the steps I asked support to go through to tell me what I am doing wrong. I still don’t know if someone took the steps I provided in the ticket. What I wonder is, why not look specifically at my configuration and account in the first place and tell me what is wrong with it instead of asking generic questions? That seems to be part of the reason this is dragging out. I provided the specific steps I took and if someone duplicated those steps they should get the same error. I’m not getting a response as to whether those steps *should* work or if there is a problem with the steps? But at least finally someone is not just sending me links to documentation I already have or steps I have already taken but telling me what they need to solve the problem. They are looking at what I have done and the steps I’ve taken. Hoping for a resolution soon and will keep plugging away on it.</p><p>I’m going to stop this post here. I need to get work done but hopefully somehow support teams everywhere can think about how you could make things less painful for your customers, because personally I find things like this very painful. Azure is a good cloud platform, and they are not the only ones with this support issue.</p><p>This week end I had someone from AT&amp;T basically yelling and talking over me, repeating the same thing in a condescending voice to the point where I just hung up. I probably sounded a little frustrated when I called in about a $400 bill where I was charged incorrect amounts and wanted to know the status of the phones I had shipped in. (I do not recommend buying anything online from AT&amp;T go to a store.) I learned how to get around basic support thanks to someone at the AT&amp;T store. That next person I got in a resolution-oriented department (because the company doesn’t want to lose business) calmly re-assured me that basically everything the last person yelling at me was saying was wrong. The issues are not totally resolved but I have my fingers crossed that the phone that got lost to me on the way to me will get processed correctly when it got sent back. I got two phones on pretty much the same day after I called and the support person submitted a case because I had not received the original phone for two weeks. One of them looked like it had been opened. Now I’m hoping I don’t get charged for the phone I sent back because I’m honest. I could have just pretended it never showed up and would have no risk of being charged for it.</p><p>Update:</p><p>I wasn’t going to write anything more here but this response was too much:</p><pre>I understand there may be some confusion regarding the process that occurs when support tickets are filed.</pre><pre>You may find the linked documentation helpful.</pre><pre><a href="https://docs.microsoft.com/en-us/azure/azure-portal/supportability/how-to-manage-azure-support-request">Manage an Azure support request — Azure supportability | Microsoft Docs</a></pre><p>Another condescending response. Here’s my response:</p><pre>Not helpful. What would be helpful would be if I could get the things working that I’m submitting support requests about.</pre><p>I feel like I’m close after 5 days of back and forth with Azure and another vendor on fixing the main thing I want to get working, but I don’t think either company has actually tested the steps I provided to tell me what I’m doing wrong. Just keep plugging away.</p><p>One other note is that the Azure support portal shows that tickets have bene updated or changed when there is actually no response or action showing in the portal. For example, a ticket I created 5 days ago and was resolved shortly after I opened it shows that it was updated in the last hour. I have received no messages (and don’t need any since it is resolved and should be closed) and the case is still open. If anyone is looking at that last updated time in the portal, it seems to be inaccurate.</p><p>Update:</p><p>Well, I’m still updating here because I wanted to note that I was testing out using Azure Data Share in my class instead of an alternate cloud service from another provide since I am teaching an Azure class. However, when I tried to use that service I set it up incorrectly somehow and I got an error. I submitted a ticket asking how to fix the error. I never got a response in the Azure portal on that ticket. I think someone may have responded in email only but as noted above I would like a record of the responses in the portal, and I’m getting so many emails for non-issues that I can’t keep track of what email goes with what ticket. See the example above where 4 people responded to a ticket that was an azure bug that seems to have resolved itself. The responses came after I requested to close the ticket. Just now I got a lengthy three paragraph response on a ticket submitted 5 days ago that also was a bug and I reported it to Azure and asked to close the ticket. After the 3 paragraph response telling me the engineer was going to report the bug and close the ticket, I got another email from a support manager on some ticket asking me how the engineer did. I don’t know which ticket that was for and I don’t have time to look it up. So back to Azure Data Store. I couldn’t get it working in the required time frame and don’t have more time to spend on it right now. Also, after testing it out it requires way too many steps for my simple use case. Other cloud services for something like this are much simpler depending on what you are trying to do. If you must store your data in a particular Azure data storage service and need to share it, this service may be your only option. In my case, that’s not a requirement. I responded to the ticket after a few days saying never mind, please close the case.</p><p>So now I have one case that should be open.</p><p>That one case is the main case I have been trying to resolve all along. I think I figured out by reverse-engineering a question from an Azure support person that I put the DNS TXT records on the incorrect domain. I asked specifically which domain in which text box in Azure should get the DNS TXT records. I also asked for clarification on what should go into one of the boxes for domain federation. In a prior request I asked for where I can find detailed logs that provide more information than “failed” which is basically what the error message I get in the Azure console says. I never got a response on the error logs and waiting to hear back on the rest as to what I am doing wrong that is causing Azure to report the error that doesn’t say anything.</p><p>In the meantime the other vendor is sending me links unrelated to the problem I’m trying to solve. I have only sent them one or two questions so not calling them out here. I’ve had repeated problems with Azure support for years which is why I finally wrote this blog post. I asked the other vendor which domain I need to put in which Azure text box to make this work. Maybe they have some logs or information that can help me figure this out and get it working.</p><p>Now I wait…</p><p>Update:</p><p>The person who is currently assigned to my IdP ticket told me yesterday the ticket would be escalated…</p><p>But at the same time the person again asked for private domain name and IdP information again with a link to a folder to submit the information. I have repeatedly indicated that I do not want to provide that information but that I want generic answers to my questions about the documentation.</p><p>My response: Please let me know when the ticket has been escalated.</p><p>This person seems intent on *not* answering my questions. The person keeps asking me for private information about by my IdP and domain names. I provided the detailed steps I took in order to avoid sending the specific details of my configuration. Anyone could follow those steps to reproduce the problem and see if they could get the same results. Anyone could tell me on step X you say to do Y but that’s wrong, you need to do Z. For some reason I don’t understand, this person doesn’t want to or can’t do that but they won’t come out and say it. They just keep tying to get my private IdP information.</p><p>That got me to thinking about the risks associated with sharing the private information you use to set up an IdP between different cloud systems. What are the chances someone in Azure support could do something nefarious if they have the details of your IdP configuration? I have yet to fully evaluate this threat model.</p><p>I’ve been starting to look more closely at SAML configurations and security related to this. If someone in Azure support has the details about your IdP configuration (the metadata you provide to configure the IdP) could they then impersonate your IdP? Could they trick users into logging into the wrong IdP and grab authentication tokens along the way? Could the individual set up an Azure IdP in their own account using your IdP information (similar but different than subdomain hijacking)?</p><p>Azure requires that the domain name you use in this type of federation is NOT in Azure as I documented in my steps that I sent over. That means that if you use this type of federation, there’s nothing to say that someone couldn’t take your metadata and set up this configuration in some other account. You must set up the appropriate DNS records on the associated domain. But is that information specific to only your account? I need to revisit that.</p><p>Waiting for someone new to respond indicating the request has been escalated.</p><p>Update:</p><p>I started this ticket on April 12th and it’s now April 29th. To be honest I haven’t been looking at it closely since it all feels like a waste of time at this point. The person I’m talking to is not answering my questions and seems determined to ask for information I do not want to provide. I just want generic answers because at this point I don’t trust the person. I just want to get the ticket escalated.</p><p>Today I got two responses neither of which were from a new person and neither of which escalated the case. I replied that I appreciate the effort but I don’t want to provide anymore information until the case is escalated.</p><p>I submitted three separate cases with individual questions about the Azure documentation — not specific to my configuration or the error I got on the Azure platform — to see if I can get answers another way. I haven’t logged back in yet to see if those got answered. I’m very busy and this is all very time consuming.</p><p>Right now…I need to get some work done…</p><p>Oh wait. The person just responded and said they <em>did not</em> say they would escalate my ticket. I’m very confused.</p><p>I asked if the person could please escalate my case because we seem to be having communication issues. I do not feel comfortable providing additional information at this point. Also, the question I asked in the beginning was for someone to follow the steps I did and reproduce the error message and tell me what I’m doing wrong in my steps. As far as I can tell, no one has done that yet.</p><p>~~~~~~~</p><p>Alright this was all so distracting that I stopped the urgent matter I’m working on and logged into the Azure portal to see if my other questions got answered. Just curious. No high expectations, but hoping they got routed to a person that truly wants to help.</p><p>The first one I looked at did and the answer was reasonable and seems like it should be correct:</p><p>Where should the logs show up in Azure when you create a new external IdP. The person tells me they are supposed to show up in the audit logs. That’s what I understood from the documentation so that confirms one thing the other person absolutely refused to answer for some reason. <em>Thank you.</em></p><p>But now the problem is, I can’t find any entries related to my action to add an external IdP using SAML federation. I could just be looking for it incorrectly or not know what to search on or what it looks like. Or there could be a bug related to the specific error message I get. I asked the person if they could send me a sample or tell me what to search on to see the entries related to the 4 steps I took to try to add a new IdP. (I provided those four steps when I submitted the ticket). Hopefully the person can send me a sample or answer this. Then I will repeat the steps and look again to see if it’s a bug or I’m missing something.</p><p>For the other two questions, which were distinctly different if the support people and bothered to open and read them, I got two responses which both said something to the effect of, “It looks like you submitted two duplicate tickets. Please confirm.” Clearly neither person (or the same person?) bothered to read the contents of the ticket. Even if they presumed it was a duplicate, why did you not answer at least <em>one</em> of what you incorrectly presumed to be a duplicate?? At least one of my questions would have been answered. What a waste of everyone’s time.</p><p><strong><em>All this is why I never pay for Azure support.</em></strong><em> </em>But I responded hopefully in a civil manner and avoiding the words going through my mind. I clarified that they were two separate tickets with two different questions in each of them. Could you please answer my questions?</p><p>I was thinking about alternate ways to resolve this problem and I wanted to research some other security issues anyway related to this. I’m about to set up my ADFS server and start reverse engineering this whole process myself so I can figure out what is going on. Asking support is definitely not saving me any time. I’ve set up ADFS servers in the past but was hoping to avoid the hassle.</p><p>~~~~~</p><p>Based on my experiences to date I would not use Azure, personally, if I was a small business getting started. AWS is much more start up friendly, though have challenges with their support as well sometimes. The thing is, when I wrote about it, they reached out to me to help resolve the problem. If you have a large company with a dedicated account manager hopefully you are getting better support than this.</p><pre>As a side note, I just had an interaction with Google Support that was heavenly compared to all of this. To be fair, it may have been a simpler question, but still, it was far superior to this whole experience. My only problem with Google support is that I can’t find my ticket list in Google Workspace, but that could just be me. I did have challenges when I accidentally registered a workspace through Google Domains. I can’t recommend that. Create your Workspace directly at Google. But I digress.</pre><p>~~~~~</p><p>That’s it for now. Back to trying to resolve all the support cases and prepare for an Azure class! I go through the struggles of figuring new things out (a feature in preview) so my students don’t have to. =)</p><p>Teri Radichel — Follow me <a href="https://twitter.com/teriradichel">@teriradichel</a></p><p><em>© </em><a href="https://2ndsightlab.com/?source=post_page---------------------------"><em>2nd Sight Lab</em></a><em> 2022</em></p><p>____________________________________________</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/250/0*H9Ew1KCl-29nZiPR.jpeg" /></figure><p><strong>Want to learn more about Cybersecurity and Cloud Security? </strong>Check out: <a href="https://www.amazon.com/Cybersecurity-Executives-Cloud-Teri-Radichel/dp/1652474811/ref=as_li_ss_tl?_encoding=UTF8&amp;qid=1601801560&amp;sr=1-1&amp;linkCode=ll1&amp;tag=2ndsightlab-20&amp;linkId=3204d6389211538a20eabff16973183e&amp;language=en_US">Cybersecurity for Executives in the Age of Cloud</a> on Amazon</p><p><strong>Need Cloud Security Training? </strong><a href="https://2ndsightlab.com/cloud-security-training.html">2nd Sight Lab Cloud Security Training</a></p><p><strong>Is your cloud secure?</strong> Hire <a href="https://2ndsightlab.com/">2nd Sight Lab</a> for a <a href="https://2ndsightlab.com/cloud-penetration-testing.html">penetration test</a> or <a href="https://2ndsightlab.com/cloud-security-assessment.html">security assessment</a>.</p><p><strong>Have a Cybersecurity or Cloud Security Question? </strong>Ask <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">Teri Radichel</a> by scheduling a call with <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">IANS Research</a>.</p><p><strong>Cybersecurity &amp; Cloud Security Resources by Teri Radichel: </strong><a href="https://medium.com/cloud-security/cybersecurity-author-teri-radichel-bea5f6c8452f">Cybersecurity and Cloud security classes, articles, white papers, presentations, and podcasts</a></p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=4760d5f7ccbe" width="1" height="1" alt=""><hr><p><a href="https://medium.com/cloud-security/what-i-would-change-on-microsoft-azure-part-1-4760d5f7ccbe">What I would change on Microsoft Azure</a> was originally published in <a href="https://medium.com/cloud-security">Cloud Security</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>]]></content:encoded>
    </item>
    <item>
      <title><![CDATA[Assessing Supply Chains ~ The People]]></title>
      <description><![CDATA[<div class="medium-feed-item"><p class="medium-feed-image"><a href="https://medium.com/cloud-security/assessing-supply-chains-the-people-8c2475372344?source=rss-863161906cc5------2"><img src="https://cdn-images-1.medium.com/max/1558/1*FMtG7d2nUvFi8TxKpDfOoQ.png" width="1558"></a></p><p class="medium-feed-snippet">When assessing potential products include a review of executives, technical staff, investors, and board of directors</p><p class="medium-feed-link"><a href="https://medium.com/cloud-security/assessing-supply-chains-the-people-8c2475372344?source=rss-863161906cc5------2">Continue reading on Cloud Security »</a></p></div>]]></description>
      <link>https://medium.com/cloud-security/assessing-supply-chains-the-people-8c2475372344?source=rss-863161906cc5------2</link>
      <guid isPermaLink="false">https://medium.com/p/8c2475372344</guid>
      <category><![CDATA[due-diligence]]></category>
      <category><![CDATA[security-assessments]]></category>
      <category><![CDATA[cybersecurity-risk]]></category>
      <category><![CDATA[network-security]]></category>
      <category><![CDATA[cybersecurity]]></category>
      <dc:creator><![CDATA[Teri Radichel]]></dc:creator>
      <pubDate>Sun, 10 Apr 2022 23:02:49 GMT</pubDate>
      <atom:updated>2022-04-11T13:56:25.740Z</atom:updated>
    </item>
    <item>
      <title><![CDATA[Host-based Firewall to Validate Network Firewall]]></title>
      <link>https://medium.com/cloud-security/host-based-firewall-to-validate-network-firewall-d37b192cbb0e?source=rss-863161906cc5------2</link>
      <guid isPermaLink="false">https://medium.com/p/d37b192cbb0e</guid>
      <category><![CDATA[supply-chain-attack]]></category>
      <category><![CDATA[network-security]]></category>
      <category><![CDATA[ubiquiti]]></category>
      <category><![CDATA[cybersecurity]]></category>
      <category><![CDATA[host-firewall]]></category>
      <dc:creator><![CDATA[Teri Radichel]]></dc:creator>
      <pubDate>Sat, 09 Apr 2022 16:15:40 GMT</pubDate>
      <atom:updated>2022-04-09T21:21:44.519Z</atom:updated>
      <content:encoded><![CDATA[<h4>Another way to watch the watchers and understand potential supply chain attacks</h4><p><em>This post is part of a series on an adventure to connect a </em><a href="https://www.pfsense.org/"><em>PFSense</em></a><em> firewall and a </em><a href="https://www.ui.com/"><em>Ubiquiti Dream Machine Pro</em></a><em>. See the bottom of the post for all the posts in this series.</em></p><p>I mentioned in the previous post on <a href="https://medium.com/cloud-security/ubiquiti-dream-machine-pro-first-impressions-6c7f400689d7">first impressions using a Ubiquiti UDM Pro</a>, that I got to the location setting and the page just spun, and nothing ever showed up. I speculated it was because the UI was trying to reach out to some third-party domain that was not allowed by my firewall configuration, which is specifically set up to only allow the UDM Pro to reach out to domains I’ve added in the configuration.</p><p>I explained <a href="https://medium.com/cloud-security/domain-names-used-by-devices-76440b1b0d0e">how I reverse-engineered what domains the device contacts</a> in a prior post. I also explained how I set up an alias in PFSense to only allow the domains I had specifically investigated and allowed. Apparently, the location page reaches out to something other than what I had already allowed so it’s just spinning and what I presume should be a map never shows up.</p><p>I could have determined which domain the UI was using the same way I did in my last post. I also could have looked at the browser development tools settings to see what domain was failing.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*pgnoablsqD2DtI66iNioMg.png" /></figure><p>From there click on Console and you can see what is getting blocked. In this particular case, it appears that Medium is blocking a domain it’s trying to load in its content security policy (Google Analytics). There’s also a failure to load another URL on csp.medium.com with a 522 HTTP error. I’m not blocking either of those things. It looks Medium has a few misconfigurations they might want to look into. However, if I was blocking something, it would also show up here with a failure to connect.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*EfuVxf6bMmmxx135R3J46A.png" /></figure><p>Those mechanisms will detect after the fact when a domain name is blocked. They won’t block an unexpected domain name or allow you to review and allow or disallow it as a page opens or a connection is made. It could be quite annoying to inspect every connection but if you are a security researcher geek like me that’s just something you like to do. I like to see what’s connecting to what.</p><p>One way to make sure your network-based firewall is working is to run a host-based firewall on top of that. A host-based firewall will allow you to inspect connections your machine makes. I was running my host-based firewall when the locations page on the Ubiquiti Dream Machine Pro failed to load, and this connection popped up. Now I know that the UI is trying to get to api.mapbox.com. Even if I allowed this API connection here on my host, the connection would later be blocked when it reaches the PFSense.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*CSHvbyqxhDt7f5IN6LbLcA.png" /></figure><p>As I mentioned in my last post, all connections are allowed by default in the Ubiquiti device, so that wouldn’t have blocked anything. I haven’t tried out the firewall to see if and how that would behave in regards to connections required for the UI to function properly.</p><p>If you are using a MAC OS, you can Little Snitch to monitor your network connections.</p><p><a href="https://www.obdev.at/products/littlesnitch/index.html">Little Snitch</a></p><p>If you are running a Windows machine, you can use Windows Defender Firewall.</p><p><a href="https://docs.microsoft.com/en-us/windows/security/threat-protection/windows-firewall/windows-firewall-with-advanced-security">Windows Defender Firewall with Advanced Security (Windows) - Windows security</a></p><p>If you are on Linux, use IP Tables.</p><p><a href="https://en.wikipedia.org/wiki/Iptables">iptables - Wikipedia</a></p><p>I will need to research this API a bit more and some others I’ve found while using the product. However, as I mentioned, dynamically including third-party code in a production environment can be dangerous. I explained in this post how including components and code on your own systems whenever possible is safer in this blog post and why.</p><p><a href="https://medium.com/cloud-security/real-time-third-party-code-injection-4ac081acaac5">Real-time third-party code injection</a></p><p>Now, not only do you need to worry about a security problem at Ubiquiti, you’ll have to monitor for security problems at Mapbox. That is known as a <strong>supply chain attack</strong>, where a third-party component used to build a product has a security problem. Something to be aware of whenever you are using code and products and especially network appliances.</p><p>Teri Radichel — Follow me <a href="https://twitter.com/teriradichel">@teriradichel</a></p><p><em>© </em><a href="https://2ndsightlab.com/?source=post_page---------------------------"><em>2nd Sight Lab</em></a><em> 2022</em></p><p>P.S. If you read my last post, I figured out where the configuration for assigning VLANs to ports exists in the UI and added it, if you are curious. I also think I fixed my VLAN problem but need to investigate it a bit further to make sure it doesn’t have a security problem. I have a question out to Ubiquiti support, but the rest of the configuration should be coming soon.</p><p><em>More in this series on the security of network security appliances and network connected devices:</em></p><ul><li><a href="https://medium.com/cloud-security/watching-the-network-watchers-158613b24016">Watching the Network Watchers</a></li><li><a href="https://medium.com/cloud-security/considering-where-to-buy-network-devices-204024e9ab90">Considering Where to Buy Network Devices</a></li><li><a href="https://medium.com/cloud-security/pfsense-in-front-of-a-udm-why-6ff6ec83f5ed">PFSense in Front of a UDM. Why?</a></li><li><a href="https://medium.com/cloud-security/domain-names-used-by-devices-76440b1b0d0e">Domain Names Used by Devices</a></li><li><a href="https://medium.com/cloud-security/ubiquiti-dream-machine-pro-first-impressions-6c7f400689d7">Ubiquiti Dream Machine Pro ~ First Impressions</a></li></ul><p>____________________________________________</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/250/0*H9Ew1KCl-29nZiPR.jpeg" /></figure><p><strong>Want to learn more about Cybersecurity and Cloud Security? </strong>Check out: <a href="https://www.amazon.com/Cybersecurity-Executives-Cloud-Teri-Radichel/dp/1652474811/ref=as_li_ss_tl?_encoding=UTF8&amp;qid=1601801560&amp;sr=1-1&amp;linkCode=ll1&amp;tag=2ndsightlab-20&amp;linkId=3204d6389211538a20eabff16973183e&amp;language=en_US">Cybersecurity for Executives in the Age of Cloud</a> on Amazon</p><p><strong>Need Cloud Security Training? </strong><a href="https://2ndsightlab.com/cloud-security-training.html">2nd Sight Lab Cloud Security Training</a></p><p><strong>Is your cloud secure?</strong> Hire <a href="https://2ndsightlab.com/">2nd Sight Lab</a> for a <a href="https://2ndsightlab.com/cloud-penetration-testing.html">penetration test</a> or <a href="https://2ndsightlab.com/cloud-security-assessment.html">security assessment</a>.</p><p><strong>Have a Cybersecurity or Cloud Security Question? </strong>Ask <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">Teri Radichel</a> by scheduling a call with <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">IANS Research</a>.</p><p><strong>Cybersecurity &amp; Cloud Security Resources by Teri Radichel: </strong><a href="https://medium.com/cloud-security/cybersecurity-author-teri-radichel-bea5f6c8452f">Cybersecurity and Cloud security classes, articles, white papers, presentations, and podcasts</a></p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=d37b192cbb0e" width="1" height="1" alt=""><hr><p><a href="https://medium.com/cloud-security/host-based-firewall-to-validate-network-firewall-d37b192cbb0e">Host-based Firewall to Validate Network Firewall</a> was originally published in <a href="https://medium.com/cloud-security">Cloud Security</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>]]></content:encoded>
    </item>
    <item>
      <title><![CDATA[Ubiquiti Dream Machine Pro ~ First Impressions]]></title>
      <link>https://medium.com/cloud-security/ubiquiti-dream-machine-pro-first-impressions-6c7f400689d7?source=rss-863161906cc5------2</link>
      <guid isPermaLink="false">https://medium.com/p/6c7f400689d7</guid>
      <category><![CDATA[network-security]]></category>
      <category><![CDATA[udm]]></category>
      <category><![CDATA[ubiquiti]]></category>
      <category><![CDATA[vlan]]></category>
      <category><![CDATA[pfsense]]></category>
      <dc:creator><![CDATA[Teri Radichel]]></dc:creator>
      <pubDate>Fri, 08 Apr 2022 17:21:10 GMT</pubDate>
      <atom:updated>2022-04-09T15:43:44.140Z</atom:updated>
      <content:encoded><![CDATA[<h4>Initial attempt to set up the device, use the phone app, and set up a VLAN</h4><p><em>This post is part of a series on an adventure to connect a </em><a href="https://www.pfsense.org/"><em>PFSense</em></a><em> firewall and a </em><a href="https://www.ui.com/"><em>Ubiquiti Dream Machine Pro</em></a><em>. See the bottom of the post for all the posts in this series.</em></p><p>This is just me clicking around trying to set up a Dream Machine Pro. If you want someone to click on every wrong button on your UI that would be me. I like things to be intuitive and have little patience when it comes to confusing user interfaces. I think that is why I like to build very simple and intuitive user interfaces that align with how someone is trying to achieve a task in an application.</p><p>That’s how I defined back-office banking applications. In one case I sat down with the users and watched them work on the existing application, where they took a lot of steps to do simple things, where things broke, and how they resolved problems. In the end, I added a screen that reported errors with one click to fix them. The manager of that department told me that was her favorite feature and it wasn’t in the initial project requirements. I added it because it was an obvious need.</p><p>I also like zero trust networks. I only want to allow what is required. So, that confuses the matter a bit compared to someone who just fires up a device and lets it connect all over the Internet without any concern for the connections it makes. I’m a security researcher. Business people and home users may opt to trust the company. I like to see how things work.</p><p>Now before I go into my confusion below, let me just say that I love, love, love not dealing with that Cloud Key anymore. Trying to set up a zero trust network with that, or trying to set up a controller on my own hardware was undesirable. I like having everything in one box. It’s a step in a better direction. Now onto the experience I had trying to set up the device behind a PFSense. (I’m not done — I’m waiting on the support team as noted below and will provide step-by-step details if and when I figure this out completely.)</p><p><strong>Networking experience</strong></p><p>Before I tell you about my clicky approach to figuring out what I am trying to do :) I want to explain something. My networking experience is varied. I wouldn’t say I’m an expert at all on every topic related to networking but I have done a lot of things network-related and I guess you could say I’m a network hacker (in the non-derogatory sense of the word) because I hack around trying to figure things out when I have time. Here are some of the things I’ve done that included some reverse-engineering to solve network-related problems:</p><ul><li>My career started out in networking working with telecom companies, video conferencing that never worked on the first try from AT&amp;T (no Zoom back then!), T1 lines, ISDN using D channel switching which I had to reverse engineer to troubleshoot a project (18 pages of configuration that always went wrong), frame relay, cell phone management including cell fraud which was prevalent back then, phone line installations, telecom budgets, and inaccurate phone bills.</li><li>Ran a web server and an email server out of my home at one point (a very long time ago.)</li><li>Ran an e-commerce company and had a rack in a co-location facility and later used managed hosting. I had to deal with some networking there but I hired others to actually implement the physical networking up to the point of the servers for the most part. I had a Cisco-certified network engineer walk me through the configuration of a load balancer when I ran a web application that needed more capacity.</li><li>Faced a data breach on my own servers at that company and had to learn more about VPNs and firewalls at that point. <a href="https://medium.com/cloud-security/how-network-traffic-got-me-into-cybersecurity-94796bb78c92">Networking got me into cybersecurity</a>. I became a fan of zero trust networking. I told the hosting company I wanted to block outbound firewall traffic I didn’t need and they told me no one does that. I did. Now everyone does.</li><li>Worked on the Capital One cloud engineering, cloud networking, and security teams. I set up network proxies and helped design and deploy networking for over 11,000 developers rolling out applications to AWS. I helped implement subnets, security groups, routes, peering, VPNs, gateways, and networking for AD servers on AWS with a very complex forest that exceeded cloud network limitations, HSMs, DNS, bastion hosts, and cloud proxies to overcome transitive peering limitations (be careful with this one) ~ among other things. I discussed how to implement Transit Networks to put all your security appliances in a single VPC with AWS — an idea I had and spoke about prior to transit VPCs becoming a thing the way they are now on AWS. I understand cloud networking pretty well and provide consulting on that.</li><li>Have numerous security certifications that involved dissecting packets and <a href="https://www.techtarget.com/searchsecurity/definition/VLAN-hopping">advanced pentesting on Cisco devices and VLAN trunk ports and protocols</a> among other things but I don’t use it much on cloud penetration tests. I’m going to be reviewing all that with this new network setup though I’m only using one Cisco device right now. The UDM and PFSense support the spanning tree protocol (STP).</li><li>Worked for a security vendor that creates a network security appliance — primarily a firewall with a bunch of other components baked into one box. I architected a cloud solution for their firewalls all over the world to connect to AWS. I got a little tripped up on the routing when first connecting that to the cloud. I also provide insight on the automated deployment of those devices in cloud environments. I got my team to troubleshoot with the responsible team why that device didn’t work properly with an AWS VPN configuration.</li></ul><p>So when you read this post, if you have done a lot of networking, you might think I don’t know what I’m doing because I am clicking around on things and don’t know certain details about a particular device. However, I figure things out as I go and as I need to solve a certain problem. I work not only in networking but have 25 years of software development experience and do pentesting and cybersecurity. My goal is always to solve a particular problem and right now my problem is that I want to set up a VLAN across a PFSense (specifically a Netgate device with an integrated switch) and a UDM Pro.</p><p>I tried to set up VLANS between the PFSense and a Cisco switch in the past. I never quite got that working and ran out of time because I’m always so busy! I might try that again as well. I have resolved some issues I had back then with the PFSense VLANs and pretty happy about that. But when it comes to connecting the UDM still working out a few glitches.</p><p>The documentation from vendors, especially when you need to connect different brands or want to set up zero-trust networking seems to be incomplete and hard to find. Maybe some of these posts will help someone else get things done more quickly.</p><p>For now, here are my first impressions of the Ubiquiti Dream Machine while trying to achieve my objectives.</p><p><strong>Specifications</strong></p><p>I read some posts in newsgroups saying the UDM Pro has no power over ethernet (POE) so I bought a POE switch to go with it. I suppose I should have done more homework but I wanted to try that out anyway. I’ll share a video later I’ve been taking a look at when I get into the specific instructions. But after I bought the device I saw a forum post that says half the ports are POE and another press release in 2021 showing that POE ports were supposed to be coming soon. The photo of the device had lightning bolts on the ports. Mine does not.</p><p>In this <a href="https://dl.ubnt.com/ds/udm-pro">UDM Pro datasheet</a> I see a diagram showing the switch has POE but the UDM Pro does not:</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*N7_6HMGgc0hFl7lgj4GU9w.png" /></figure><p>Maybe I’ll just plug something in and see. One post said ports 5–8 are POE.</p><p><strong>Out of the box instructions</strong></p><p>The out of the box documentation is short and looks like IKEA instructions. You get icons and pretty much no words. I guess this is aimed at people who don’t understand networking and are using the default configuration and allowing things to just connect to anything else on the Internet. They have a nice video showing a quick setup in a few minutes. Of course, that is when you have the device exposed directly to the Internet and allow all traffic. I’m trying to inspect the traffic and allow what is required as I go.</p><p>I find the IKEA instructions to be a bit lacking, personally. I would like to see a list of <strong>domains or CIDRs, ports, and protocols </strong>that explains what the device connects to and which are required. I would also like instructions for offline setup.</p><p>I am not sure that the diagram for wiring the UDM to the Switch I got with the switch printed on paper didn’t match the instructions I got when I clicked on the QR code. It seemed like different ports were connected in each case. Also, it shows the cables plugged into the non-ethernet ports on the side of the box in a couple of different ways. To be honest, I’m not familiar with that type of jack for this cable, but I think I had to get special cables in the past for something else like this. Is this related to a VLAN trunk port?</p><p>If I needed a special cable to connect those two things I wish I had been informed at checkout. I know a lot of long-time network people may scoff at this, but why make it difficult for newbies? I’ll figure out what that cable is and if I want to use it or not. Don’t worry.</p><p>I also read that I can run without it by connecting two ethernet ports on each device. I did try that out but the adoption failed. I’m taking a step back to review the purpose of those additional ports. Personally, I like to understand how things work instead of just plugging things in and guessing. I’d like to know my options and what solution best meets my needs.</p><p><strong>Phone App</strong></p><p>The phone application pretty much never worked for me. I don’t know if that is because I was blocking some network traffic because I was running this all behind a firewall or what.</p><p>First of all, if you don’t care about what your device is connecting to on the Internet, you can just follow these super simple instructions:</p><iframe src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FEO5r7YL-Y1A%3Ffeature%3Doembed&amp;display_name=YouTube&amp;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DEO5r7YL-Y1A&amp;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FEO5r7YL-Y1A%2Fhqdefault.jpg&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=youtube" width="854" height="480" frameborder="0" scrolling="no"><a href="https://medium.com/media/c8620e64bdf633081efc8628d8a47af8/href">https://medium.com/media/c8620e64bdf633081efc8628d8a47af8/href</a></iframe><p>It looks really easy in that case. Of course, in my quest to understand the details I must make my life difficult.</p><p>I started the UDM with no network connectivity at all. At some point during this process when all network connectivity was failing, I was able to get an option for an offline setup. I went through the process and after multiple tries, because the app kept disconnecting and I had to start over, I got through the process. I skipped the firmware update and the speed test, the latter of which never worked for me, and got the green checkmark at the end finally and the “ding!” indicating success.</p><p>When I looked at the phone app I saw two Ubiquiti devices instead of one. Neither of them, when I clicked on them, allowed me to do any sort of configuration. I reported this issue to Ubiquiti. I noticed that an update came out in the app store recently to fix the issue with two devices showing up so that’s good! However, I was never able to even get a device to show up at all after that point.</p><p>What I did next was start to allow connectivity. First I enabled DNS connectivity but I noticed the device was connecting to all kinds of DNS servers and not the ones my network allows. I wish that configuration of DNS servers was an option during the setup steps. (<em>And on every other IoT device!</em>)</p><p>Later I figured out how to get the device to only use my DNS servers. There are other DNS options you can configure in other places I’ll explain later. I could see the UDM trying to ping and access CloudFlare default DNS servers (1.1.1.1) and Google DNS (8.8.8.8). That created a lot of unnecessary noise in my logs if I could just specify the correct DNS servers in the setup process. The same goes for NTP.</p><p>Next, I started to <a href="https://medium.com/cloud-security/domain-names-used-by-devices-76440b1b0d0e">reverse-engineer which domain names the device was trying to connect to</a> as I explained in my last post. I added the domains as explained there so the device could connect through my PFSense to those domains. However, I had only plugged a cable from a port on the PFSense to the WAN port on the UDM.</p><p>At this point, it seemed like the traffic was getting out to the Internet but upon doing a <a href="https://medium.com/cloud-security/domain-names-used-by-devices-76440b1b0d0e">packet capture</a> inspection the return traffic was not reaching the UDM. I think this has something to do with NAT and would really like to dig into those details but I saw a video showing that I also need to connect a cable from the UDM LAN to a LAN port on the PFSense. That allowed the UDM to reach the Internet.</p><p>One odd thing here is that maybe because the PFSense is stateless, it never showed the blocked return traffic in the firewall logs. The only way I could see that was by doing a <a href="https://medium.com/cloud-security/domain-names-used-by-devices-76440b1b0d0e"><strong>packet capture</strong></a> as explained in the previous post. Then I could see the details of the request and response traffic. This request for a bit of improvement would be directed at PFSense not Ubiquiti. Make it easier to see that problem.</p><p>Once I started allowing traffic to the Internet for the UDM and going through the setup process I could never get back to the offline setup. It would be nice if Ubiquiti would give you that option. The offline setup allows you to set a local user name and password instead of storing it in the cloud.</p><p>I wanted to try out some of the cloud services anyway so eventually I put in my user name and password to connect. At that point, I couldn’t set a local user name and password even after resetting the UDM, which I had to do numerous times before I got things halfway working. (Again, if you just let everything connect to the Internet you likely won’t have these problems.)</p><p>I can’t remember at what point the app finally got me to the green checkmark again and the “Ding!” sound indicating success, but it may have been after I resolved the NAT issue with the second cable. However, the device never showed up in my phone app. I reset everything multiple times.</p><p>I was able to perform the firmware update, but I could never run the speed test. It still doesn’t work in the UDM UI. Not sure what’s wrong there so need to keep researching that later.</p><p>Finally, I realized I could just plug in a laptop directly to the UDM and get to the UI (Duh, I know.) I got the UDM console but I couldn’t log in for some reason. I tried resetting my cloud password. I tried the local password I had set on the device and the cloud user name and password. Nothing would work.</p><p>One thing I’m not sure of thinking back is if there are separate user names and passwords for the forum (which I haven’t used), support, and the UDM console. That would be confusing. But I wrote down the user name and password I used when I created an account in the app so was pretty sure I was using the correct one.</p><p>I kept inspecting the traffic to see if anything was blocked and adjusting my firewall rules to allow the appropriate traffic. I can’t remember if I allowed something new that might have triggered this, but the next day when I fired everything up and possibly reset the device again with the exact same steps, I was able to log in. I don’t know exactly but from that point forward I’ve been able to log in using a local connection.</p><p><strong>The Ubiquiti UI is both very pretty and very confusing</strong></p><p>After watching some videos I wanted to set up a VLAN on the UDM. I researched many videos and blog posts on connecting a PFSense and a UDM. There are various ways to configure this. I knew one person was at a screen where he could set up a VLAN-only network and I wanted to get to that. At some point, support told me to add a VLAN tag to a specific port to resolve another issue. I’ll explain all that in a separate post but for now, I want to explain that I’ve already done both those things.</p><p>Here’s my experience even after going through this once trying to remember how to do it a second time. I wanted to add the VLAN Tag to a second port to see if that resolves a problem I’m having.</p><p>When I log in, I see a network icon in the middle of the screen so, of course, I click on it. I get to a generic network dashboard. That’s nice. I want to edit my VLANs. Where should I go next?</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*wwK73_HEGrpgqvcMylULyA.png" /></figure><p>When I click on the device icon on the side of the home screen and then click on the UDM Pro IP address I get to a big “Network” icon in the middle of a mostly empty screen. It’s the same screen I got when I logged in. So of course, clicking on the network icon takes me back to the generic network dashboard.</p><p>I would expect when I click on the IP address for the UDM Pro that I would get something specific to the UDM Pro configuration or at least something specific to that device alone. This seems to be a generic network dashboard.</p><p>I clicked back into devices, then the UDM Pro, and see “Manage Settings” at the bottom under the network icon. It seems to me that “Manage Settings” should be front and center if I click on the IP or skip that click altogether. Go straight to manage settings for the UDM Pro.</p><p>Steve Jobs was a master at keeping things obvious. I’ve written before about how I got a Microsoft phone in the past and it took me 4 clicks to get to the screen where I could dial the phone. Really? I walked into the store and said show me how to make a call on an iPhone. There’s a phone icon on the first screen. You click and the keypad comes up. I said, “I’ll take it.” The Microsoft phone went in the trash.</p><p>OK, so I go back to the devices screen and click on “Manage settings.” From here I get to a screen that says check for updates and shows performance stats. The update is important and I like that it’s front and center. However, the performance stats have nothing to do with changing settings.</p><p>On the side, I see <strong>General, Applications, Locations, and Advanced</strong>.</p><p><strong>General</strong> is the screen I’m on after clicking through and it has no settings other than “update.” I’m trying to set up networking and VLANs on the UDM. so this screen isn’t really helpful for my purposes. I do like that the ability to see the version and update is front and center. But maybe that should show up on the first screen you see when you click on the device like the PFSense dashboard.</p><p><strong>Applications</strong> shows me <strong>Network, Protect, Access, and Talk.</strong></p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*ldgJ3Qn5pdh5wf-qOi4hCA.png" /></figure><ul><li>The <strong>Network</strong> icon doesn’t do anything.</li><li>The <strong>Protect</strong> icon is for security devices or cameras I think. You can check for an update or start the Protect app, I guess.</li><li><strong>Access</strong> I think is for a doorbell or door security. I don’t know I haven’t looked into that yet.</li><li><strong>Talk</strong> is for phones. It says beta and has a greyed-out check for update button and three dots that keep blinking like it’s trying to connect to something. Maybe the stun port I blocked as explained in my last post.</li></ul><p>I didn’t buy any of those devices so far I’m only interested in my network configuration at the moment when I’m just trying to get set up and connected to VLANs. Later I want to set up WiFi. I don’t understand why this network icon doesn’t go to the same place as all the other similar network icons.</p><p>When I click on <strong>Locations</strong> it just spins. I suppose it’s trying to connect to a domain name I haven’t allowed yet and so it can’t do whatever it is supposed to do. That’s not what I’m looking for anyway.</p><p><strong>Advanced</strong> has a bunch of settings like SSH, remote access from unifi.ui.com, automatic updates, restart, power off, factory reset, and download support file. I’m not really sure if these are advanced but none of these are what I need.</p><p>At this point, I’m clicking around trying to figure out how to get back to the main screen. It’s not obvious. I’ve studied both advertising layouts and UI design. <em>A good UI should have a button to get back to the starting point or a menu that will take you there in a consistent location on every screen.</em></p><p>I’m looking on the left because that’s where the menu and all the items are but I notice a grid of dots on the upper right. This is another confusing design choice by a lot of applications but don’t get me started on that. The dots show me a popup menu with an icon and link to the device configuration I’m currently looking at. I suppose that would be more useful if I had more devices set up. It also shows a Network icon which takes me back to the network dashboard with some performance info.</p><p>Since manage settings associated with the UDM Pro IP address had a gear icon, I click the gear icon on the bottom left of the menu on the main dashboard. Finally. There I see <strong>WiFi, Networks, Security, Internet, System Settings, </strong>and <strong>Advanced Features</strong>.</p><p>I remember I set up a VLAN-only network under <strong>Networks</strong> so I click on it just to confirm. At this point, the screen doesn’t work. It worked before so I’m not sure what is going on. It’s just spinning with the bar at the top flashing a blue line across it. Up there it says “Not seeing everything? Go to <strong>Classic Settings</strong>.” I was in the beta UI I think.</p><p>I click on <strong>Classic Settings. </strong>The blue line goes away. I see a bunch of interesting settings and a nice menu bar on the left. Thank you. So much. Better than those little icons. So many people online are giving this same feedback in blog posts and videos. They are using the old UI, so maybe it will change back. I’m new to all of this and I agree so it’s not like I’m just used to the old UI. The new one is extremely unintuitive.</p><p>One of the options on the left is <strong>Networks</strong>. Remember what I said earlier about making a phone call? Why does it take me so many clicks to get to the network settings — on a network appliance? Ah yes, there’s my VLAN-only network that I previously created. Woohoo! But where did I made that change to assign my VLAN ID to a port?</p><p>I click on <strong>Routing &amp; Firewall</strong>. Oh, that is interesting. WAN In has two rules:</p><ul><li>Allow All</li><li>Deny All</li></ul><p>LAN in has a rule:</p><ul><li>Allow all on the default CIDR range.</li></ul><p>Lan out has a rule:</p><ul><li>Allow all on the default CIDR range.</li></ul><p>So what that means is that if you set this up directly connected to the Internet <strong><em>all traffic is allowed by default.</em></strong> If you want to tighten those rules up you’ll need to do it after you configure the device and after it connects to the Internet unless you block all network connectivity to get the phone app to show you the offline option or go through the hoops I did to only allow the necessary traffic to the required domain names. Interesting, but not what I’m looking for at this point.</p><p>After clicking on a bunch of things I found it. Maybe this makes sense to networking folks who are familiar with the term “Profiles” but I was looking for ports or VLANs. Anyway here’s how I got to the place where I can set a VLAN tag on a specific port.</p><p>Profiles &gt; Switch Ports &gt; Add New Port Profile</p><p>I think the only real actionable advice I’ve gotten from the Ubiquiti support team may have been to set up a VLAN tag on a specific LAN port. I’ve resolved most of the issues myself, but they did provide me with that very useful piece of information, but I still must be doing something wrong since a laptop plugged into the port with the VLAN assigned doesn’t get an IP address from the PFSense DHCP server. I could have gone back and looked at the email for how they told me to get to that screen, but I figured I wouldn’t need that since I’d already done it once. I’m not sure this is the correct screen.</p><p>What is interesting here is that I can see the profile I created previously, but not edit it. Maybe this was not actually the screen I’m seeking. I was able to actually assign a VLAN tag to a physical port on the UDM. I don’t see that here even though the item I clicked says “Switch Ports.”</p><p>I give up. I’m going to have to go back to that email to figure out where that setting was where I could say “Port X on the physical device should be assigned to VLAN Y.” It’s in that email I have to go back and look at and I’ll post a walkthrough once I get this all working with screenshots.</p><pre>Edit: I went back to the email and figured out that you have to click on the device, but not on the IP address, and a side window pops up on the right. First of all, that’s not at all intuitive. Secondly, the problem with that side window is that it covers up other things such as the edit options on the side of some lists. It wasn’t initially clear how to close it. Finally, this is a completely different layout and now I have things on the right and left and top and all over the place. I would prefer a single list down the left hand side with all the options so I can easily find them. All the functionality for VLANs should be accessible in one place or at least one group. (And by the way, I find some things related to PFSense and specifically the SG3100 to have some of this same confusion but not quite this disjointed.)</pre><pre>Once that pop-up comes up there are some little icons at the top. You click one of them for ports and there, finally, I could edit the VLAN for a specific port. And that&#39;s where I discovered that probably I made a mistake and assigned the VLAN to the wrong port, but I still have a few questions out to support. I should be able to post the other blog posts shortly with the full configuration!</pre><p>In the meantime, I clicked on “Try new settings” again to see the beta version I was looking at before. Under networks, my VLAN does not exist. I see WAN and LAN only in two separate places. WAN is associated with “Internet” which only confuses the matter. Why not list all the Interfaces in one place and call them WAN and LAN like everyone in networking is used to seeing?</p><p>Anyway, that’s all I have time for today. Apologize for typos. I have too much work right now. Currently, I have figured out the PFSense configuration I want which is pretty cool and something I hadn’t yet figured out so I’ll probably write about that next.</p><p>I’m still trying to figure out how to let a host on the UDM that is in a VLAN configured on PFSense to reach the Internet the way I’ve set up my PFSense (which is not exactly like the videos where people are using PFSense but no integrated switch with VLANs enabled). I have a request out to the support team and waiting to hear back. They want screenshots and support dumps but I’ve literally only changed two settings since I set up the device:</p><ol><li>I configured the Network only VLAN.</li><li>I followed their email instructions to add that VLAN ID to the port which my laptop is plugged into on the UDM.</li></ol><p>I’ll keep tinkering with it and hope to provide a complete working scenario in a future post, along with some other things I’m hoping to accomplish but this is my first impression. I realize I’m probably not the typical user!</p><p>Teri Radichel — Follow me <a href="https://twitter.com/teriradichel">@teriradichel</a></p><p><em>© </em><a href="https://2ndsightlab.com/?source=post_page---------------------------"><em>2nd Sight Lab</em></a><em> 2022</em></p><p><em>More in this series on the security of network security appliances and network connected devices:</em></p><ul><li><a href="https://medium.com/cloud-security/watching-the-network-watchers-158613b24016">Watching the Network Watchers</a></li><li><a href="https://medium.com/cloud-security/considering-where-to-buy-network-devices-204024e9ab90">Considering Where to Buy Network Devices</a></li><li><a href="https://medium.com/cloud-security/pfsense-in-front-of-a-udm-why-6ff6ec83f5ed">PFSense in Front of a UDM. Why?</a></li><li><a href="https://medium.com/cloud-security/domain-names-used-by-devices-76440b1b0d0e">Domain Names Used by Devices</a></li></ul><p>____________________________________________</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/250/0*H9Ew1KCl-29nZiPR.jpeg" /></figure><p><strong>Want to learn more about Cybersecurity and Cloud Security? </strong>Check out: <a href="https://www.amazon.com/Cybersecurity-Executives-Cloud-Teri-Radichel/dp/1652474811/ref=as_li_ss_tl?_encoding=UTF8&amp;qid=1601801560&amp;sr=1-1&amp;linkCode=ll1&amp;tag=2ndsightlab-20&amp;linkId=3204d6389211538a20eabff16973183e&amp;language=en_US">Cybersecurity for Executives in the Age of Cloud</a> on Amazon</p><p><strong>Need Cloud Security Training? </strong><a href="https://2ndsightlab.com/cloud-security-training.html">2nd Sight Lab Cloud Security Training</a></p><p><strong>Is your cloud secure?</strong> Hire <a href="https://2ndsightlab.com/">2nd Sight Lab</a> for a <a href="https://2ndsightlab.com/cloud-penetration-testing.html">penetration test</a> or <a href="https://2ndsightlab.com/cloud-security-assessment.html">security assessment</a>.</p><p><strong>Have a Cybersecurity or Cloud Security Question? </strong>Ask <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">Teri Radichel</a> by scheduling a call with <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">IANS Research</a>.</p><p><strong>Cybersecurity &amp; Cloud Security Resources by Teri Radichel: </strong><a href="https://medium.com/cloud-security/cybersecurity-author-teri-radichel-bea5f6c8452f">Cybersecurity and Cloud security classes, articles, white papers, presentations, and podcasts</a></p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=6c7f400689d7" width="1" height="1" alt=""><hr><p><a href="https://medium.com/cloud-security/ubiquiti-dream-machine-pro-first-impressions-6c7f400689d7">Ubiquiti Dream Machine Pro ~ First Impressions</a> was originally published in <a href="https://medium.com/cloud-security">Cloud Security</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>]]></content:encoded>
    </item>
    <item>
      <title><![CDATA[Domain Names Used by Devices]]></title>
      <link>https://medium.com/cloud-security/domain-names-used-by-devices-76440b1b0d0e?source=rss-863161906cc5------2</link>
      <guid isPermaLink="false">https://medium.com/p/76440b1b0d0e</guid>
      <category><![CDATA[iot]]></category>
      <category><![CDATA[domain-names]]></category>
      <category><![CDATA[dns]]></category>
      <category><![CDATA[packet-capture]]></category>
      <category><![CDATA[network-security]]></category>
      <dc:creator><![CDATA[Teri Radichel]]></dc:creator>
      <pubDate>Thu, 07 Apr 2022 21:25:11 GMT</pubDate>
      <atom:updated>2022-04-08T17:03:23.821Z</atom:updated>
      <content:encoded><![CDATA[<h4>Figuring out to what domain names your devices connect</h4><p><em>This post is part of a series on an adventure to connect a </em><a href="https://www.pfsense.org/"><em>PFSense</em></a><em> firewall and a </em><a href="https://www.ui.com/"><em>Ubiquiti Dream Machine Pro</em></a><em>. See the bottom of the post for all the posts in this series.</em></p><p>In my post on <a href="https://medium.com/cloud-security/watching-the-network-watchers-158613b24016">Watching the Network Watchers</a>, I promised I would explain a bit more about DNS connections the Ubiquiti Dream Machine Pro made and how I figured that out. It took me a while to get back to this because I’ve been very busy!</p><p>I explained that when I started the device I put it behind a PFSense firewall so I could monitor the traffic. Within PFSense you can capture packets. Click on Diagnostics at the top and then Packet Capture, as shown below.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*K91DSi_KMn9Q0m7AQM6tkQ.png" /></figure><p>Initially, I had just plugged the UDM WAN port into a PFSense WAN port. That didn’t work as I’ll explain in another post, but I was still able to capture DNS requests.</p><p>On the packet capture screen, select your LAN interface (or whatever interface you’ve got your device plugged into that you are inspecting). Enable promiscuous mode. I like to see everything I can.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*PInzipmV9JF4HYbbXwcvNQ.png" /></figure><p>Scroll down. Enter count 1000 to get more packets if you need. Choose the level of detail Full. Click start. Let that run for a while. I started the packet capture after I fired up the device and it was the only thing on my LAN at the time so I could focus on traffic from the device I wanted to see.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*nKhx8qat3ozpPvTBQ61MfQ.png" /></figure><p>Note that I did not check “Do reverse DNS lookup” because that is generally a waste of time. You’ll get back domain names like Amazon CloudFront domain names or Amazon EC2 domain names with the IP in them, not the actual domain name that the device requested. It also takes more time for the device to process those reverse lookups. You can easily do a reverse lookup later if you want to use dig on Linux or Mac:</p><pre>dig -x 8.8.8.8</pre><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*dTAde-ZdmGNtKEGQbnfJvw.png" /></figure><p>On windows you can use:</p><pre>ping -a 1.1.1.1</pre><p>or</p><pre>nslookup 1.1.1.1</pre><p>As I mentioned, if you do this reverse lookup you’ll often just get a generic cloud domain. Run a dig (no -x) command on static.ubnt.com to get back the IP addresses. That’s one of the domains to which the UDM tried to connect.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*yaHW3ciObaC4n1ETDskC4Q.png" /></figure><p>Now do your reverse DNS lookup on one of those addresses. You get back a generic AWS CloudFront address. You can’t tell from that information what domain name your machine requested to get that IP address.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*884Wp_fWb5HwpteWCgNtWw.png" /></figure><p>You might be able to do some additional querying to get all the CNAMES for an IP address but that’s not what I wanted to show you in this post.</p><p><strong>Finding a Domain Name for an IP address using a Packet Capture</strong></p><p>OK back to our packet capture. Hopefully, you followed the instructions above and have had it running for a while. Stop the packet capture.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*DOsT8j93UlUrds2F_9-agQ.png" /></figure><p>You’ll see a bunch of traffic there but that’s a bit hard to read and impossible to query. I like to query my packets like they are a packet database. Click download to get a pcap file.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*UZk4yZNREXknelta5vZXxA.png" /></figure><p>If you’re not familiar with pcap files and packet captures I explained that in a prior blog post and how to use Wireshark.</p><p><a href="https://medium.com/cloud-security/what-is-packet-sniffing-f03f50aa230">What is Packet Sniffing?</a></p><p>Once you’ve downloaded your file, presuming you have Wireshark installed, click on it and it will open in Wireshark.</p><p><strong>Search for the domain name for a single IP address</strong></p><p>In the pcap file, you will be able to see the source IP address connecting to several other IP addresses. If you want to determine the DNS name for any of those IP addresses you can follow these steps:</p><ol><li>Filter on the IP address you want to identify by entering a filter in the top bar like this and then press enter. Replace the x.x.x.x with the address with the one you are trying to identify.</li></ol><pre>ip.addr = x.x.x.x</pre><p>That will look like the screenshot below in Wireshark.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*9Jow3JU_Am5PgAvZLcvYCA.png" /></figure><p>Notice the record numbers in the first column with “No.” as a header. The first one is 807. Somewhere just prior to record 807 a DNS query should exist that asks a DNS server what the IP address is for a particular domain name. The response will contain the IP address you’re trying to identify.</p><p>2. Scroll to the records just before the first time you see the IP address (or you can do some fancy filtering but I’m trying to keep it simple here). Find the corresponding DNS query.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*7AFVc-XmsCJ5jGJdpkk_FA.png" /></figure><p>In the example above, this is the response to a DNS request for sp-dir.uwn.com. One of the answers is the IP we’re investigating. 18.116.135.39.</p><p>So now we know that the IP address that the UDM is trying to reach in records containing a destination IP of 18.116.135.39 corresponds with sp-dir.uwn.com.</p><p><strong>Query all the DNS records and review the responses</strong></p><p>An alternative to quickly see all the DNS requests would be to simply type “dns” in the Wireshark filter bar and hit enter. Then review all the responses such as the one above to get a list of the DNS requests the device made.</p><p><strong>Set up firewall rules to allow or block traffic accordingly</strong></p><p>I noticed that one of the things the UDM tried to connect to was a domain <strong>stun.freeswitch.org</strong> on a stun port. Before allowing that traffic I wanted to better understand why it existed and how it is used. I know that incorrectly configured stun services can be a problem. I was also concerned that the service to which the stun port connects exists on Digital Ocean. That network is constantly scanning and attacking my systems as I’ve written about previously. I chose to leave that blocked until I can investigate further.</p><p>I didn’t do deep packet inspection on everything the UDM connects to yet. Not sure if or when I will have time. But I was able to reverse-engineer a more complete list of domain names and ports that I needed to allow the device to connect to to operate properly including port and protocol.</p><p>I can allow these connections for the appropriate networks involved in configuring and managing the device and disallow unnecessary domains and ports. Here are the domain names I discovered (so far):</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*wHjkCAFxDTVicJqkZbIMYQ.png" /></figure><p>I created an alias for these domain names in PFSense by going to Firewall &gt; Aliases:</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*hCoFy93j_jE6UdRp9IH_uA.png" /></figure><p>Enter a name and choose Type = Hosts. Enter the necessary domain names.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*TYzAMZS-LcOWI51iDY40Ng.png" /></figure><p>I added a rule to allow the UDM to contact these hosts on port 443. Initially, I allowed the IP address of the UDM specifically from the LAN but I’ll show you another option in a future post that is more specific.</p><p><strong>Local network traffic</strong></p><p>In addition to the traffic that traverses the Internet, you’ll need to add rules for local traffic but I’ll cover that in another blog post. For now, just wanted to help you understand how to determine what domain names a device connects to create appropriate firewall rules.</p><p><strong>What if you can’t create rules for domain names?</strong></p><p>Of course, if your network devices or appliances (or cloud security groups) don’t work with domain names and that’s all the vendor gives you, then you’re out of luck creating firewall rules. That’s the challenge with cloud networking such as AWS Security Groups and Network Access Control Lists (NACLs) and similar on other cloud providers. You can only use CIDRs in rules.</p><p>In that case, you need to get CIDR ranges from vendors and they don’t always provide those. It appears that Ubiquiti is not using the <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-byoip.html">bring-your-own-ip</a> option on AWS to provide specific CIDR blocks you can add to your firewall rules. That is unfortunate. They could also use load balancers with <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html">static elastic IP addresses (EIPs)</a> and provide those but doesn’t seem like that is what they are doing for all domains.</p><p>You could try to dynamically query and update the IPs using some mechanism that tries to detect changes but that gets a little tricky. Hopefully, vendors and clouds will come together to make this easier in the future for more easily configurable zero-trust networks.</p><p>Teri Radichel — Follow me <a href="https://twitter.com/teriradichel">@teriradichel</a></p><p><em>© </em><a href="https://2ndsightlab.com/?source=post_page---------------------------"><em>2nd Sight Lab</em></a><em> 2022</em></p><p><em>More in this series on the security of network security appliances and network connected devices:</em></p><ul><li><a href="https://medium.com/cloud-security/watching-the-network-watchers-158613b24016">Watching the Network Watchers</a></li><li><a href="https://medium.com/cloud-security/considering-where-to-buy-network-devices-204024e9ab90">Considering Where to Buy Network Devices</a></li><li><a href="https://medium.com/cloud-security/pfsense-in-front-of-a-udm-why-6ff6ec83f5ed">PFSense in Front of a UDM. Why?</a></li></ul><p>____________________________________________</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/250/0*H9Ew1KCl-29nZiPR.jpeg" /></figure><p><strong>Want to learn more about Cybersecurity and Cloud Security? </strong>Check out: <a href="https://www.amazon.com/Cybersecurity-Executives-Cloud-Teri-Radichel/dp/1652474811/ref=as_li_ss_tl?_encoding=UTF8&amp;qid=1601801560&amp;sr=1-1&amp;linkCode=ll1&amp;tag=2ndsightlab-20&amp;linkId=3204d6389211538a20eabff16973183e&amp;language=en_US">Cybersecurity for Executives in the Age of Cloud</a> on Amazon</p><p><strong>Need Cloud Security Training? </strong><a href="https://2ndsightlab.com/cloud-security-training.html">2nd Sight Lab Cloud Security Training</a></p><p><strong>Is your cloud secure?</strong> Hire <a href="https://2ndsightlab.com/">2nd Sight Lab</a> for a <a href="https://2ndsightlab.com/cloud-penetration-testing.html">penetration test</a> or <a href="https://2ndsightlab.com/cloud-security-assessment.html">security assessment</a>.</p><p><strong>Have a Cybersecurity or Cloud Security Question? </strong>Ask <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">Teri Radichel</a> by scheduling a call with <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">IANS Research</a>.</p><p><strong>Cybersecurity &amp; Cloud Security Resources by Teri Radichel: </strong><a href="https://medium.com/cloud-security/cybersecurity-author-teri-radichel-bea5f6c8452f">Cybersecurity and Cloud security classes, articles, white papers, presentations, and podcasts</a></p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=76440b1b0d0e" width="1" height="1" alt=""><hr><p><a href="https://medium.com/cloud-security/domain-names-used-by-devices-76440b1b0d0e">Domain Names Used by Devices</a> was originally published in <a href="https://medium.com/cloud-security">Cloud Security</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>]]></content:encoded>
    </item>
    <item>
      <title><![CDATA[PFSense in Front of a UDM. Why?]]></title>
      <link>https://medium.com/cloud-security/pfsense-in-front-of-a-udm-why-6ff6ec83f5ed?source=rss-863161906cc5------2</link>
      <guid isPermaLink="false">https://medium.com/p/6ff6ec83f5ed</guid>
      <category><![CDATA[firewall]]></category>
      <category><![CDATA[udm]]></category>
      <category><![CDATA[network-security]]></category>
      <category><![CDATA[ubiquiti]]></category>
      <category><![CDATA[pfsense]]></category>
      <dc:creator><![CDATA[Teri Radichel]]></dc:creator>
      <pubDate>Wed, 06 Apr 2022 22:35:54 GMT</pubDate>
      <atom:updated>2022-04-07T21:22:13.134Z</atom:updated>
      <content:encoded><![CDATA[<h3>PFSense in Front of UDM. Why?</h3><h4>Feedback from the networking community</h4><p><em>This post is part of a series on an adventure to connect a </em><a href="https://www.pfsense.org/"><em>PFSense</em></a><em> firewall and a </em><a href="https://www.ui.com/"><em>Ubiquiti Dream Machine Pro</em></a><em>. See the bottom of the post for all the posts in this series.</em></p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*_PW33-BetTJ35kty2bic0g.png" /></figure><p>As I embarked on this journey I started writing about putting a PFSense in front of a Ubiquiti UDM, I was surprised to find that this is a common configuration. I found many blog posts, YouTube videos, and newsgroup and forum comments on this very topic.</p><p>As it turns out, this is a configuration that many people prefer. They claim that the routing functions and firewall capabilities are superior in a PFSense Firewall compared to a UDM. They like the management capabilities of the UDM and the wifi integration which I haven’t tested enough to make such claims but I’ll provide some of the links for your review.</p><p><a href="https://www.trustradius.com/compare-products/pfsense-vs-ubiquiti-networks">pfSense vs Ubiquiti Networks UniFi | TrustRadius</a></p><iframe src="https://cdn.embedly.com/widgets/media.html?type=text%2Fhtml&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;schema=reddit&amp;url=https%3A//www.reddit.com/r/PFSENSE/comments/lhv8at/is_pfsence_firewall_better_than_unifi_dream/&amp;image=https%3A//i.embed.ly/1/image%3Furl%3Dhttps%253A%252F%252Fstyles.redditmedia.com%252Ft5_2ruru%252Fstyles%252FcommunityIcon_5weh2d014zy01.jpg%253Fwidth%253D256%2526format%253Dpjpg%2526s%253Ddcf1d3e888d5fb688002128ea14b80df3235f14e%26key%3Da19fcc184b9711e1b4764040d3dc5c07" width="600" height="400" frameborder="0" scrolling="no"><a href="https://medium.com/media/de59ec3a7b1c81916840c3955a353ca2/href">https://medium.com/media/de59ec3a7b1c81916840c3955a353ca2/href</a></iframe><p>A number of posts on the topic exist on the Ubiquiti forum. I appreciate that they haven’t taken them down. They can provide valuable insight to improve the product.</p><p><a href="https://community.ui.com/questions/USG-to-UDM-Pro-or-pfSense/3aee06dc-d580-43e5-99e8-4ba5bedb8b7d">https://community.ui.com/questions/USG-to-UDM-Pro-or-pfSense/3aee06dc-d580-43e5-99e8-4ba5bedb8b7d</a></p><p>Here’s a discussion with 96 comments if you have time to read them all!</p><iframe src="https://cdn.embedly.com/widgets/media.html?type=text%2Fhtml&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;schema=reddit&amp;url=https%3A//www.reddit.com/r/Ubiquiti/comments/pb4gox/my_thoughts_after_moving_from_pfsense_to_unifi/&amp;image=https%3A//i.embed.ly/1/image%3Furl%3Dhttps%253A%252F%252Fexternal-preview.redd.it%252FmoVUA3WoqmbN7R8dQRh1g_9jHp4gsSUCcpEzn1AIUFo.jpg%253Fauto%253Dwebp%2526s%253D768a39726a2b4cecaf25a6e5e05162cbd0cd76bb%26key%3Da19fcc184b9711e1b4764040d3dc5c07" width="600" height="400" frameborder="0" scrolling="no"><a href="https://medium.com/media/998800b86cf04147d96dfa6ed58353a8/href">https://medium.com/media/998800b86cf04147d96dfa6ed58353a8/href</a></iframe><p>I also found a lot of people attacking the idea from both sides. Why would you want a UDM at all? A UDM is fine by itself. Why would you need PFSense?</p><p>Here is what I’m testing out:</p><ul><li>Separate Wifi, Modem, Switches, Firewall. If one device is compromised, hopefully, another will catch it.</li><li>Better segregation of IoT devices using VLANs, switches, etc.</li><li>Discreet LAN ports on PFSense.</li><li>Reduce network <a href="https://erg.abdn.ac.uk/users/gorry/course/intro-pages/uni-b-mcast.html">multicast/broadcast</a> network spam.</li><li>Separate admin network. Already have but making improvements.</li><li>Better visibility into wifi traffic.</li><li>More ports for hard-wired traffic. I like to hardwire sketchy devices like printers and monitor them.</li><li>Preserve the PFSense firewall rules I wrote about in <a href="https://medium.com/cloud-security/scanners-lead-to-scammers-2866d49886f">Scanners lead to Scammers</a>.</li><li>Apply additional security to other parts of my network that ends up taking down video streaming services. (I’m looking at you, <a href="https://suricata.io/">Suricata</a>.)</li><li>VPN to cloud for some work.</li><li>Ability to inspect the traffic coming out of the UDM (already wrote about that).</li></ul><p>Is Ubiquiti a good choice given that they had a recent data breach? Sometimes the companies that have had a breach better understand that they need to step up their security. I’ve been hired to do assessments of companies like that.</p><p>Unfortunately, as I’m writing this, Ubiquiti is suing Brian Krebs for his report on their data breach a while back.</p><p><a href="https://arstechnica.com/tech-policy/2022/03/ubiquiti-sues-journalist-alleging-defamation-in-coverage-of-data-breach/">Ubiquiti sues journalist, alleging defamation in coverage of data breach</a></p><p>Not sure this is appropriate, but will have to see how it plays out. I am a fan of honest journalism on data breaches and not a fan of coverups or the inability to take responsibility. I am not judging in this case, just watching to see what happens. I hope that everyone did, and does, the right thing in this case.</p><p>Meanwhile, stay tuned as I think I kind of got everything working, except the mobile app which refuses to work but I don’t need it. Perhaps because I’m blocking a stun port connecting to Digital Ocean, but I’m not sure. I’ll be writing about VLANs, switches, network interfaces, physical firewall ports, and firewall rules. You can follow me on <a href="https://medium.com/cloud-security/cybersecurity-author-teri-radichel-bea5f6c8452f">Medium</a>, <a href="https://twitter.com/teriradichel">Twitter</a>, and sign up for emails on Medium to get the stories in your inbox.</p><p>Teri Radichel — Follow me <a href="https://twitter.com/teriradichel">@teriradichel</a></p><p><em>© </em><a href="https://2ndsightlab.com/?source=post_page---------------------------"><em>2nd Sight Lab</em></a><em> 2022</em></p><p><em>More in this series on the security of network security appliances and network connected devices:</em></p><ul><li><a href="https://medium.com/cloud-security/watching-the-network-watchers-158613b24016">Watching the Network Watchers</a></li><li><a href="https://medium.com/cloud-security/considering-where-to-buy-network-devices-204024e9ab90">Considering Where to Buy Network Devices</a></li></ul><p>____________________________________________</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/250/0*H9Ew1KCl-29nZiPR.jpeg" /></figure><p><strong>Want to learn more about Cybersecurity and Cloud Security? </strong>Check out: <a href="https://www.amazon.com/Cybersecurity-Executives-Cloud-Teri-Radichel/dp/1652474811/ref=as_li_ss_tl?_encoding=UTF8&amp;qid=1601801560&amp;sr=1-1&amp;linkCode=ll1&amp;tag=2ndsightlab-20&amp;linkId=3204d6389211538a20eabff16973183e&amp;language=en_US">Cybersecurity for Executives in the Age of Cloud</a> on Amazon</p><p><strong>Need Cloud Security Training? </strong><a href="https://2ndsightlab.com/cloud-security-training.html">2nd Sight Lab Cloud Security Training</a></p><p><strong>Is your cloud secure?</strong> Hire <a href="https://2ndsightlab.com/">2nd Sight Lab</a> for a <a href="https://2ndsightlab.com/cloud-penetration-testing.html">penetration test</a> or <a href="https://2ndsightlab.com/cloud-security-assessment.html">security assessment</a>.</p><p><strong>Have a Cybersecurity or Cloud Security Question? </strong>Ask <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">Teri Radichel</a> by scheduling a call with <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">IANS Research</a>.</p><p><strong>Cybersecurity &amp; Cloud Security Resources by Teri Radichel: </strong><a href="https://medium.com/cloud-security/cybersecurity-author-teri-radichel-bea5f6c8452f">Cybersecurity and Cloud security classes, articles, white papers, presentations, and podcasts</a></p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=6ff6ec83f5ed" width="1" height="1" alt=""><hr><p><a href="https://medium.com/cloud-security/pfsense-in-front-of-a-udm-why-6ff6ec83f5ed">PFSense in Front of a UDM. Why?</a> was originally published in <a href="https://medium.com/cloud-security">Cloud Security</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>]]></content:encoded>
    </item>
    <item>
      <title><![CDATA[Considering Where to Buy Network Devices]]></title>
      <link>https://medium.com/cloud-security/considering-where-to-buy-network-devices-204024e9ab90?source=rss-863161906cc5------2</link>
      <guid isPermaLink="false">https://medium.com/p/204024e9ab90</guid>
      <category><![CDATA[supply-chain]]></category>
      <category><![CDATA[network-security]]></category>
      <category><![CDATA[manufacturing-security]]></category>
      <category><![CDATA[secure-shipping]]></category>
      <category><![CDATA[cybersecurity]]></category>
      <dc:creator><![CDATA[Teri Radichel]]></dc:creator>
      <pubDate>Wed, 23 Mar 2022 17:19:36 GMT</pubDate>
      <atom:updated>2022-04-06T22:39:08.958Z</atom:updated>
      <content:encoded><![CDATA[<h4>Have you thought about the path your devices take to get to you?</h4><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*YqSa1dfaVLBM6w4oBfcqrw.png" /></figure><p><em>This post is part of a series on an adventure to connect a </em><a href="https://www.pfsense.org/"><em>PFSense</em></a><em> firewall and a </em><a href="https://www.ui.com/"><em>Ubiquiti Dream Machine Pro</em></a><em>. See the bottom of the post for all the posts in this series.</em></p><p>I prefer to try to buy network devices straight from the manufacturer when possible. That is one reason I didn’t choose some alternate brands over my recent Ubiquiti purchase. If you buy an appliance straight from the vendor hopefully you have a better chance of a secure supply chain.</p><p>If you’re buying network appliances off eBay or Amazon, it’s hard to know if the seller has messed with the device or not. I read some reviews online for Ubiquiti products where customers said they had problems with a device purchased on Amazon. They returned it and got a device straight from Ubiquiti and it worked fine.</p><p>I’m also familiar with and not comfortable with the supply chains of certain security companies.</p><p><strong>Networking and Supply Chain Questions</strong></p><p>I’ve been writing about issues related to understanding all the network connections required for software updates and configuration. However, it would also be good to understand the supply chain and shipping methods for vendor products as well.</p><p>I wish vendors were forced to list the following on their websites:</p><pre>1. Where is the device manufactured and tested?</pre><pre>2. Where is the software written and tested? (Not always in the same place.)</pre><pre>3. What domain names, ports, and protocols does the device connect to?</pre><pre>4. What is the purpose of each domain name or IP address to which the device connects?</pre><pre>5. How can I turn off the service of function generating the traffic related to any particular domain name, port, IP address?</pre><pre>6. If I can’t turn something off, explain why.</pre><pre>7. Explain how you ensure a device is not tampered with during the shipping process?</pre><pre>8. Do you have a methodology to ensure chain of custody after a device gets shipped to maintain its integrity from manufacturer through any third-parties to the end customer?</pre><p>And please, if it is not necessary, don’t turn services on by default that are not required to start the device. Tell me how to do that after I start-up and as I configure the device for the first time via an advanced configuration. If everything is off by default any tampering with the configuration should be evident upon arrival.</p><p><strong>Potential issues in shipping</strong></p><p>I recently bought new cell phones from a new vendor. The experience was incredibly painful because the process for obtaining a code from the old vendor was broken. The process to purchase the new phones and verify my ID at the new vendor failed. I spoke to numerous departments at the new vendor, many of whom gave me inaccurate information. Some didn’t listen. Some didn’t understand me. Some talked to fast or had accents so thick I couldn’t understand them (and I have worked with a lot of people from other countries.) I tried going to a store twice and they couldn’t help me. All-in-all it wasted days of my life and was an absolutely horrible experience but I won’t go into all of that here.</p><p>What concerned me most was this. Once I finally got the order in, one phone shipped in two days and came instantly. One was on backorder but shipped early than expected and came in two days. The third phone shipped but got stuck at FedEx in Tennessee — for almost two weeks. Who knows what happened to the phone during that time period.</p><p>Eventually, I gave up and called the vendor and asked about the phone. I pointed out that an identical phone took that exact same shipping route. The person on the phone noted that it got from Tennessee to Savannah in one day. Why was the other phone sitting in Tennessee for two weeks? I have no idea. The person at the vendor helped me submit a request to mark the phone as stolen. A new phone was shipped. It came in two days.</p><p>However, ironically, the “missing” phone came right after I made that call to report the missing phone, and one day before the second phone. When I got the missing phone it appeared that the box had been opened and the shrink-wrap on the phone was also opened. The replacement phone that arrived promptly in two days had bubble wrap to protect the phone and was properly shrink-wrapped. The “missing” phone had no such packaging.</p><p>Did someone actually open the phone and tamper with it, or did it just get jostled around so much in shipping that the shrink wrap came undone? Did the box look previously opened simply because it was banged around since one of the corners got dented? Was the missing bubble wrap an oversight at the company? I have no idea. But from here on out, I think I’ll be skipping the online purchasing channel when it comes to phones.</p><p><strong>Vendor assessments should consider delivery mechanisms</strong></p><p>When you are performing vendor assessments, consider not only the security in the manufacturing process but also the delivery process. How many hands does your device pass through as it makes its way from the manufacturer to your location? Add that to your product security assessment checklist for physical network devices. You may also want to add a mechanism to monitor shipping routes and delays to your security processes for security and network-related devices.</p><p>Teri Radichel — Follow me <a href="https://twitter.com/teriradichel">@teriradichel</a></p><p><em>© </em><a href="https://2ndsightlab.com/?source=post_page---------------------------"><em>2nd Sight Lab</em></a><em> 2021</em></p><p><em>More in this series on the security of network security appliances and network connected devices:</em></p><p><a href="https://medium.com/cloud-security/watching-the-network-watchers-158613b24016">Watching the Network Watchers</a></p><p>____________________________________________</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/250/0*H9Ew1KCl-29nZiPR.jpeg" /></figure><p><strong>Want to learn more about Cybersecurity and Cloud Security? </strong>Check out: <a href="https://www.amazon.com/Cybersecurity-Executives-Cloud-Teri-Radichel/dp/1652474811/ref=as_li_ss_tl?_encoding=UTF8&amp;qid=1601801560&amp;sr=1-1&amp;linkCode=ll1&amp;tag=2ndsightlab-20&amp;linkId=3204d6389211538a20eabff16973183e&amp;language=en_US">Cybersecurity for Executives in the Age of Cloud</a> on Amazon</p><p><strong>Need Cloud Security Training? </strong><a href="https://2ndsightlab.com/cloud-security-training.html">2nd Sight Lab Cloud Security Training</a></p><p><strong>Is your cloud secure?</strong> Hire <a href="https://2ndsightlab.com/">2nd Sight Lab</a> for a <a href="https://2ndsightlab.com/cloud-penetration-testing.html">penetration test</a> or <a href="https://2ndsightlab.com/cloud-security-assessment.html">security assessment</a>.</p><p><strong>Have a Cybersecurity or Cloud Security Question? </strong>Ask <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">Teri Radichel</a> by scheduling a call with <a href="https://www.iansresearch.com/our-faculty/faculty#teri-radichel">IANS Research</a>.</p><p><strong>Cybersecurity &amp; Cloud Security Resources by Teri Radichel: </strong><a href="https://medium.com/cloud-security/cybersecurity-author-teri-radichel-bea5f6c8452f">Cybersecurity and Cloud security classes, articles, white papers, presentations, and podcasts</a></p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=204024e9ab90" width="1" height="1" alt=""><hr><p><a href="https://medium.com/cloud-security/considering-where-to-buy-network-devices-204024e9ab90">Considering Where to Buy Network Devices</a> was originally published in <a href="https://medium.com/cloud-security">Cloud Security</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>]]></content:encoded>
    </item>
  </channel>
</rss>